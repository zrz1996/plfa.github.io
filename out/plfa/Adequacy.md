---
src       : "src/plfa/Adequacy.lagda.md"
title     : "Adequacy: Adequacy of denotational semantics with respect to operational semantics"
layout    : page
prev      : /Soundness/
permalink : /Adequacy/
next      : /ContextualEquivalence/
---

{% raw %}<pre class="Agda"><a id="211" class="Keyword">module</a> <a id="218" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}" class="Module">plfa.Adequacy</a> <a id="232" class="Keyword">where</a>
</pre>{% endraw %}
## Introduction

Having proved a preservation property in the last chapter, a natural
next step would be to prove progress. That is, to prove a property
of the form

    If Î³ âŠ¢ M â†“ v, then either M is a lambda abstraction or M â€”â†’ N for some N.

Such a property would tell us that having a denotation implies either
reduction to normal form or divergence. This is indeed true, but we
can prove a much stronger property! In fact, having a denotation that
is a function value (not `âŠ¥`) implies reduction to a lambda
abstraction (no divergence).

This stronger property, reformulated a bit, is known as _adequacy_.
That is, if a term `M` is denotationally equal to a lambda abstraction,
then `M` reduces to a lambda abstraction.

    â„° M â‰ƒ â„° (Æ› N)  implies M â€”â†  Æ› N' for some N'

Recall that `â„° M â‰ƒ â„° (Æ› N)` is equivalent to saying that
`Î³ âŠ¢ M â†“ (v â†¦ w)` for some `v` and `w`. We will show that
`Î³ âŠ¢ M â†“ (v â†¦ w)` implies reduction a lambda abstraction.

It is well known that a term can reduce to a lambda abstraction using
full Î² reduction if and only if it can reduce to a lambda abstraction
using the call-by-name reduction strategy. So we shall prove that
`Î³ âŠ¢ M â†“ (v â†¦ w)` implies that `M` halts under call-by-name evaluation,
which we define with a big-step semantics written `Î³' âŠ¢ M â‡“ c`, where
`c` is a closure (a term paired with an environment) and `Î³'` is an
environment that maps variables to closures

So we will show that `Î³ âŠ¢ M â†“ (v â†¦ w)` implies `Î³' âŠ¢ M â‡“ c`,
provided `Î³` and `Î³'` are appropriate related.  The proof will
be an induction on the derivation of `Î³ âŠ¢ M â†“ v`, and to
strengthen the induction hypothesis, we will relate semantic values to
closures using a _logical relation_ `ğ•`.

The rest of this chapter is organized as follows.

* We loosen the requirement that `M` result in a function value and
  instead require that `M` result in a value that is greater than or
  equal to a function value. We establish several properties about
  being ``greater than a function''.

* We define the call-by-name big-step semantics of the lambda calculus
  and prove that it is deterministic.

* We define the logical relation `ğ•` that relates values and closures,
  and extend it to a relation on terms `ğ”¼` and environments `ğ”¾`.

* We prove the main lemma,
  that if `ğ”¾ Î³ Î³'` and `Î³ âŠ¢ M â†“ v`, then `ğ”¼ v (clos M Î³')`.

* We prove adequacy as a corollary to the main lemma.


## Imports

{% raw %}<pre class="Agda"><a id="2648" class="Keyword">open</a> <a id="2653" class="Keyword">import</a> <a id="2660" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}" class="Module">plfa.Untyped</a>
  <a id="2675" class="Keyword">using</a> <a id="2681" class="Symbol">(</a><a id="2682" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a><a id="2689" class="Symbol">;</a> <a id="2691" href="plfa.Untyped.html#4252" class="Datatype Operator">_âŠ¢_</a><a id="2694" class="Symbol">;</a> <a id="2696" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="2697" class="Symbol">;</a> <a id="2699" href="plfa.Untyped.html#3483" class="Datatype Operator">_âˆ‹_</a><a id="2702" class="Symbol">;</a> <a id="2704" href="plfa.Untyped.html#3152" class="InductiveConstructor">âˆ…</a><a id="2705" class="Symbol">;</a> <a id="2707" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">_,_</a><a id="2710" class="Symbol">;</a> <a id="2712" href="plfa.Untyped.html#3519" class="InductiveConstructor">Z</a><a id="2713" class="Symbol">;</a> <a id="2715" href="plfa.Untyped.html#3564" class="InductiveConstructor Operator">S_</a><a id="2717" class="Symbol">;</a> <a id="2719" href="plfa.Untyped.html#4288" class="InductiveConstructor Operator">`_</a><a id="2721" class="Symbol">;</a> <a id="2723" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">Æ›_</a><a id="2725" class="Symbol">;</a> <a id="2727" href="plfa.Untyped.html#4400" class="InductiveConstructor Operator">_Â·_</a><a id="2730" class="Symbol">;</a>
         <a id="2741" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6193" class="Function">rename</a><a id="2747" class="Symbol">;</a> <a id="2749" href="plfa.Untyped.html#6921" class="Function">subst</a><a id="2754" class="Symbol">;</a> <a id="2756" href="plfa.Untyped.html#5883" class="Function">ext</a><a id="2759" class="Symbol">;</a> <a id="2761" href="plfa.Untyped.html#6629" class="Function">exts</a><a id="2765" class="Symbol">;</a> <a id="2767" href="plfa.Untyped.html#7449" class="Function Operator">_[_]</a><a id="2771" class="Symbol">;</a> <a id="2773" href="plfa.Untyped.html#7333" class="Function">subst-zero</a><a id="2783" class="Symbol">;</a>
         <a id="2794" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#11203" class="Datatype Operator">_â€”â† _</a><a id="2798" class="Symbol">;</a> <a id="2800" href="plfa.Untyped.html#11309" class="InductiveConstructor Operator">_â€”â†’âŸ¨_âŸ©_</a><a id="2807" class="Symbol">;</a> <a id="2809" href="plfa.Untyped.html#11253" class="InductiveConstructor Operator">_âˆ</a><a id="2811" class="Symbol">;</a> <a id="2813" href="plfa.Untyped.html#10105" class="Datatype Operator">_â€”â†’_</a><a id="2817" class="Symbol">;</a> <a id="2819" href="plfa.Untyped.html#10155" class="InductiveConstructor">Î¾â‚</a><a id="2821" class="Symbol">;</a> <a id="2823" href="plfa.Untyped.html#10245" class="InductiveConstructor">Î¾â‚‚</a><a id="2825" class="Symbol">;</a> <a id="2827" href="plfa.Untyped.html#10335" class="InductiveConstructor">Î²</a><a id="2828" class="Symbol">;</a> <a id="2830" href="plfa.Untyped.html#10443" class="InductiveConstructor">Î¶</a><a id="2831" class="Symbol">)</a>
<a id="2833" class="Keyword">open</a> <a id="2838" class="Keyword">import</a> <a id="2845" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}" class="Module">plfa.CallByName</a>
  <a id="2863" class="Keyword">using</a> <a id="2869" class="Symbol">(</a><a id="2870" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a><a id="2874" class="Symbol">;</a> <a id="2876" href="plfa.CallByName.html#2503" class="InductiveConstructor">clos</a><a id="2880" class="Symbol">;</a> <a id="2882" href="plfa.CallByName.html#2454" class="Function">ClosEnv</a><a id="2889" class="Symbol">;</a> <a id="2891" href="plfa.CallByName.html#2667" class="Function">âˆ…&#39;</a><a id="2893" class="Symbol">;</a> <a id="2895" href="plfa.CallByName.html#2689" class="Function Operator">_,&#39;_</a><a id="2899" class="Symbol">;</a> <a id="2901" href="plfa.CallByName.html#3038" class="Datatype Operator">_âŠ¢_â‡“_</a><a id="2906" class="Symbol">;</a> <a id="2908" href="plfa.CallByName.html#3095" class="InductiveConstructor">â‡“-var</a><a id="2913" class="Symbol">;</a> <a id="2915" href="plfa.CallByName.html#3258" class="InductiveConstructor">â‡“-lam</a><a id="2920" class="Symbol">;</a> <a id="2922" href="plfa.CallByName.html#3337" class="InductiveConstructor">â‡“-app</a><a id="2927" class="Symbol">;</a> <a id="2929" href="plfa.CallByName.html#4621" class="Function">â‡“-determ</a><a id="2937" class="Symbol">;</a>
         <a id="2948" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#12248" class="Function">cbnâ†’reduce</a><a id="2958" class="Symbol">)</a>
<a id="2960" class="Keyword">open</a> <a id="2965" class="Keyword">import</a> <a id="2972" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}" class="Module">plfa.Denotational</a>
  <a id="2992" class="Keyword">using</a> <a id="2998" class="Symbol">(</a><a id="2999" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="3004" class="Symbol">;</a> <a id="3006" href="plfa.Denotational.html#7109" class="Function">Env</a><a id="3009" class="Symbol">;</a> <a id="3011" href="plfa.Denotational.html#7233" class="Function">`âˆ…</a><a id="3013" class="Symbol">;</a> <a id="3015" href="plfa.Denotational.html#7266" class="Function Operator">_`,_</a><a id="3019" class="Symbol">;</a> <a id="3021" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">_â†¦_</a><a id="3024" class="Symbol">;</a> <a id="3026" href="plfa.Denotational.html#4326" class="Datatype Operator">_âŠ‘_</a><a id="3029" class="Symbol">;</a> <a id="3031" href="plfa.Denotational.html#9283" class="Datatype Operator">_âŠ¢_â†“_</a><a id="3036" class="Symbol">;</a> <a id="3038" href="plfa.Denotational.html#3991" class="InductiveConstructor">âŠ¥</a><a id="3039" class="Symbol">;</a> <a id="3041" href="plfa.Denotational.html#29592" class="Function">Funsâˆˆ</a><a id="3046" class="Symbol">;</a> <a id="3048" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">_âŠ”_</a><a id="3051" class="Symbol">;</a> <a id="3053" href="plfa.Denotational.html#27906" class="Function">âˆˆâ†’âŠ‘</a><a id="3056" class="Symbol">;</a>
         <a id="3067" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9337" class="InductiveConstructor">var</a><a id="3070" class="Symbol">;</a> <a id="3072" href="plfa.Denotational.html#9416" class="InductiveConstructor">â†¦-elim</a><a id="3078" class="Symbol">;</a> <a id="3080" href="plfa.Denotational.html#9554" class="InductiveConstructor">â†¦-intro</a><a id="3087" class="Symbol">;</a> <a id="3089" href="plfa.Denotational.html#9753" class="InductiveConstructor">âŠ”-intro</a><a id="3096" class="Symbol">;</a> <a id="3098" href="plfa.Denotational.html#9678" class="InductiveConstructor">âŠ¥-intro</a><a id="3105" class="Symbol">;</a> <a id="3107" href="plfa.Denotational.html#9884" class="InductiveConstructor">sub</a><a id="3110" class="Symbol">;</a> <a id="3112" href="plfa.Denotational.html#17453" class="Function">â„°</a><a id="3113" class="Symbol">;</a> <a id="3115" href="plfa.Denotational.html#17635" class="Function Operator">_â‰ƒ_</a><a id="3118" class="Symbol">;</a> <a id="3120" href="plfa.Denotational.html#16974" class="Function Operator">_iff_</a><a id="3125" class="Symbol">;</a>
         <a id="3136" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4623" class="InductiveConstructor">TransâŠ‘</a><a id="3142" class="Symbol">;</a> <a id="3144" href="plfa.Denotational.html#4475" class="InductiveConstructor">ConjR1âŠ‘</a><a id="3151" class="Symbol">;</a> <a id="3153" href="plfa.Denotational.html#4549" class="InductiveConstructor">ConjR2âŠ‘</a><a id="3160" class="Symbol">;</a> <a id="3162" href="plfa.Denotational.html#4385" class="InductiveConstructor">ConjLâŠ‘</a><a id="3168" class="Symbol">;</a> <a id="3170" href="plfa.Denotational.html#5480" class="Function">ReflâŠ‘</a><a id="3175" class="Symbol">;</a> <a id="3177" href="plfa.Denotational.html#4697" class="InductiveConstructor">FunâŠ‘</a><a id="3181" class="Symbol">;</a> <a id="3183" href="plfa.Denotational.html#4361" class="InductiveConstructor">BotâŠ‘</a><a id="3187" class="Symbol">;</a> <a id="3189" href="plfa.Denotational.html#4811" class="InductiveConstructor">DistâŠ‘</a><a id="3194" class="Symbol">;</a>
         <a id="3205" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#39986" class="Function">sub-inv-fun</a><a id="3216" class="Symbol">)</a>
<a id="3218" class="Keyword">open</a> <a id="3223" class="Keyword">import</a> <a id="3230" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}" class="Module">plfa.Soundness</a> <a id="3245" class="Keyword">using</a> <a id="3251" class="Symbol">(</a><a id="3252" href="plfa.Soundness.html#23397" class="Function">soundness</a><a id="3261" class="Symbol">)</a>
<a id="3263" class="Keyword">open</a> <a id="3268" class="Keyword">import</a> <a id="3275" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}" class="Module">plfa.Substitution</a> <a id="3293" class="Keyword">using</a> <a id="3299" class="Symbol">(</a><a id="3300" href="plfa.Substitution.html#3101" class="Function">ids</a><a id="3303" class="Symbol">;</a> <a id="3305" href="plfa.Substitution.html#17041" class="Function">sub-id</a><a id="3311" class="Symbol">)</a>

<a id="3314" class="Keyword">import</a> <a id="3321" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="3359" class="Symbol">as</a> <a id="3362" class="Module">Eq</a>
<a id="3365" class="Keyword">open</a> <a id="3370" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="3373" class="Keyword">using</a> <a id="3379" class="Symbol">(</a><a id="3380" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_â‰¡_</a><a id="3383" class="Symbol">;</a> <a id="3385" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">_â‰¢_</a><a id="3388" class="Symbol">;</a> <a id="3390" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="3394" class="Symbol">;</a> <a id="3396" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#984" class="Function">trans</a><a id="3401" class="Symbol">;</a> <a id="3403" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a><a id="3406" class="Symbol">;</a> <a id="3408" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#1090" class="Function">cong</a><a id="3412" class="Symbol">;</a> <a id="3414" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html#1436" class="Function">congâ‚‚</a><a id="3419" class="Symbol">;</a> <a id="3421" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html#1308" class="Function">cong-app</a><a id="3429" class="Symbol">)</a>
<a id="3431" class="Keyword">open</a> <a id="3436" class="Keyword">import</a> <a id="3443" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html" class="Module">Data.Product</a> <a id="3456" class="Keyword">using</a> <a id="3462" class="Symbol">(</a><a id="3463" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">_Ã—_</a><a id="3466" class="Symbol">;</a> <a id="3468" href="Agda.Builtin.Sigma.html#139" class="Record">Î£</a><a id="3469" class="Symbol">;</a> <a id="3471" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£-syntax</a><a id="3479" class="Symbol">;</a> <a id="3481" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1364" class="Function">âˆƒ</a><a id="3482" class="Symbol">;</a> <a id="3484" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">âˆƒ-syntax</a><a id="3492" class="Symbol">;</a> <a id="3494" href="Agda.Builtin.Sigma.html#225" class="Field">projâ‚</a><a id="3499" class="Symbol">;</a> <a id="3501" href="Agda.Builtin.Sigma.html#237" class="Field">projâ‚‚</a><a id="3506" class="Symbol">)</a>
  <a id="3510" class="Keyword">renaming</a> <a id="3519" class="Symbol">(</a><a id="3520" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="3524" class="Symbol">to</a> <a id="3527" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨_,_âŸ©</a><a id="3532" class="Symbol">)</a>
<a id="3534" class="Keyword">open</a> <a id="3539" class="Keyword">import</a> <a id="3546" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.html" class="Module">Data.Sum</a>
<a id="3555" class="Keyword">open</a> <a id="3560" class="Keyword">import</a> <a id="3567" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="3584" class="Keyword">using</a> <a id="3590" class="Symbol">(</a><a id="3591" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬_</a><a id="3593" class="Symbol">)</a>
<a id="3595" class="Keyword">open</a> <a id="3600" class="Keyword">import</a> <a id="3607" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="3633" class="Keyword">using</a> <a id="3639" class="Symbol">(</a><a id="3640" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a><a id="3653" class="Symbol">)</a>
<a id="3655" class="Keyword">open</a> <a id="3660" class="Keyword">import</a> <a id="3667" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="3678" class="Keyword">using</a> <a id="3684" class="Symbol">(</a><a id="3685" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a><a id="3691" class="Symbol">)</a> <a id="3693" class="Keyword">renaming</a> <a id="3702" class="Symbol">(</a><a id="3703" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">âŠ¥</a> <a id="3705" class="Symbol">to</a> <a id="3708" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">Bot</a><a id="3711" class="Symbol">)</a>
<a id="3713" class="Keyword">open</a> <a id="3718" class="Keyword">import</a> <a id="3725" href="https://agda.github.io/agda-stdlib/v1.1/Data.Unit.html" class="Module">Data.Unit</a>
<a id="3735" class="Keyword">open</a> <a id="3740" class="Keyword">import</a> <a id="3747" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="3764" class="Keyword">using</a> <a id="3770" class="Symbol">(</a><a id="3771" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a><a id="3774" class="Symbol">;</a> <a id="3776" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a><a id="3779" class="Symbol">;</a> <a id="3781" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a><a id="3783" class="Symbol">)</a>
<a id="3785" class="Keyword">open</a> <a id="3790" class="Keyword">import</a> <a id="3797" href="https://agda.github.io/agda-stdlib/v1.1/Function.html" class="Module">Function</a> <a id="3806" class="Keyword">using</a> <a id="3812" class="Symbol">(</a><a id="3813" href="https://agda.github.io/agda-stdlib/v1.1/Function.html#1099" class="Function Operator">_âˆ˜_</a><a id="3816" class="Symbol">)</a>
</pre>{% endraw %}

## The property of being greater or equal to a function

We define the following short-hand for saying that a value is
greather-than or equal to a function value.

{% raw %}<pre class="Agda"><a id="AboveFun"></a><a id="3992" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="4001" class="Symbol">:</a> <a id="4003" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a> <a id="4009" class="Symbol">â†’</a> <a id="4011" class="PrimitiveType">Set</a>
<a id="4015" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="4024" href="plfa.Adequacy.html#4024" class="Bound">u</a> <a id="4026" class="Symbol">=</a> <a id="4028" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="4031" href="plfa.Adequacy.html#4031" class="Bound">v</a> <a id="4033" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="4035" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a> <a id="4041" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="4043" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="4046" href="plfa.Adequacy.html#4046" class="Bound">w</a> <a id="4048" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="4050" href="plfa.Denotational.html#3971" class="Datatype">Value</a> <a id="4056" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="4058" href="plfa.Adequacy.html#4031" class="Bound">v</a> <a id="4060" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">â†¦</a> <a id="4062" href="plfa.Adequacy.html#4046" class="Bound">w</a> <a id="4064" href="plfa.Denotational.html#4326" class="Datatype Operator">âŠ‘</a> <a id="4066" href="plfa.Adequacy.html#4024" class="Bound">u</a>
</pre>{% endraw %}
If a value `u` is greater than a function, then an even greater value `u'`
is too.

{% raw %}<pre class="Agda"><a id="AboveFun-âŠ‘"></a><a id="4161" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4161" class="Function">AboveFun-âŠ‘</a> <a id="4172" class="Symbol">:</a> <a id="4174" class="Symbol">âˆ€{</a><a id="4176" href="plfa.Adequacy.html#4176" class="Bound">u</a> <a id="4178" href="plfa.Adequacy.html#4178" class="Bound">u&#39;</a> <a id="4181" class="Symbol">:</a> <a id="4183" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="4188" class="Symbol">}</a>
      <a id="4196" class="Symbol">â†’</a> <a id="4198" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="4207" href="plfa.Adequacy.html#4176" class="Bound">u</a> <a id="4209" class="Symbol">â†’</a> <a id="4211" href="plfa.Adequacy.html#4176" class="Bound">u</a> <a id="4213" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4326" class="Datatype Operator">âŠ‘</a> <a id="4215" href="plfa.Adequacy.html#4178" class="Bound">u&#39;</a>
        <a id="4226" class="Comment">-------------------</a>
      <a id="4252" class="Symbol">â†’</a> <a id="4254" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="4263" href="plfa.Adequacy.html#4178" class="Bound">u&#39;</a>
<a id="4266" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4161" class="Function">AboveFun-âŠ‘</a> <a id="4277" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4279" href="plfa.Adequacy.html#4279" class="Bound">v</a> <a id="4281" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4283" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4285" href="plfa.Adequacy.html#4285" class="Bound">w</a> <a id="4287" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4289" href="plfa.Adequacy.html#4289" class="Bound">lt&#39;</a> <a id="4293" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4295" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4297" href="plfa.Adequacy.html#4297" class="Bound">lt</a> <a id="4300" class="Symbol">=</a> <a id="4302" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4304" href="plfa.Adequacy.html#4279" class="Bound">v</a> <a id="4306" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4308" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4310" href="plfa.Adequacy.html#4285" class="Bound">w</a> <a id="4312" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4314" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4623" class="InductiveConstructor">TransâŠ‘</a> <a id="4321" href="plfa.Adequacy.html#4289" class="Bound">lt&#39;</a> <a id="4325" href="plfa.Adequacy.html#4297" class="Bound">lt</a> <a id="4328" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4330" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}
The bottom value `âŠ¥` is not greater than a function.

{% raw %}<pre class="Agda"><a id="AboveFunâŠ¥"></a><a id="4395" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4395" class="Function">AboveFunâŠ¥</a> <a id="4405" class="Symbol">:</a> <a id="4407" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="4409" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="4418" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3991" class="InductiveConstructor">âŠ¥</a>
<a id="4420" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4395" class="Function">AboveFunâŠ¥</a> <a id="4430" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4432" href="plfa.Adequacy.html#4432" class="Bound">v</a> <a id="4434" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4436" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4438" href="plfa.Adequacy.html#4438" class="Bound">w</a> <a id="4440" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4442" href="plfa.Adequacy.html#4442" class="Bound">lt</a> <a id="4445" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4447" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="4453" class="Keyword">with</a> <a id="4458" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#39986" class="Function">sub-inv-fun</a> <a id="4470" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4442" class="Bound">lt</a>
<a id="4473" class="Symbol">...</a> <a id="4477" class="Symbol">|</a> <a id="4479" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4481" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4481" class="Bound">Î“</a> <a id="4483" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4485" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4487" href="plfa.Adequacy.html#4487" class="Bound">f</a> <a id="4489" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4491" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4493" href="plfa.Adequacy.html#4493" class="Bound">Î“âŠ†âŠ¥</a> <a id="4497" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4499" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4501" href="plfa.Adequacy.html#4501" class="Bound">lt1</a> <a id="4505" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4507" href="plfa.Adequacy.html#4507" class="Bound">lt2</a> <a id="4511" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4513" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4515" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4517" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="4523" class="Keyword">with</a> <a id="4528" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#29592" class="Function">Funsâˆˆ</a> <a id="4534" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4487" class="Bound">f</a>
<a id="4536" class="Symbol">...</a> <a id="4540" class="Symbol">|</a> <a id="4542" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4544" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4544" class="Bound">A</a> <a id="4546" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4548" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4550" href="plfa.Adequacy.html#4550" class="Bound">B</a> <a id="4552" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4554" href="plfa.Adequacy.html#4554" class="Bound">m</a> <a id="4556" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4558" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="4564" class="Keyword">with</a> <a id="4569" class="Bound">Î“âŠ†âŠ¥</a> <a id="4573" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4554" class="Bound">m</a>
<a id="4575" class="Symbol">...</a> <a id="4579" class="Symbol">|</a> <a id="4581" class="Symbol">()</a>
</pre>{% endraw %}
If the join of two values `u` and `u'` is greater than a function, then
at least one of them is too.

{% raw %}<pre class="Agda"><a id="AboveFun-âŠ”"></a><a id="4695" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4695" class="Function">AboveFun-âŠ”</a> <a id="4706" class="Symbol">:</a> <a id="4708" class="Symbol">âˆ€{</a><a id="4710" href="plfa.Adequacy.html#4710" class="Bound">u</a> <a id="4712" href="plfa.Adequacy.html#4712" class="Bound">u&#39;</a><a id="4714" class="Symbol">}</a>
           <a id="4727" class="Symbol">â†’</a> <a id="4729" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="4738" class="Symbol">(</a><a id="4739" href="plfa.Adequacy.html#4710" class="Bound">u</a> <a id="4741" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="4743" href="plfa.Adequacy.html#4712" class="Bound">u&#39;</a><a id="4745" class="Symbol">)</a>
           <a id="4758" class="Symbol">â†’</a> <a id="4760" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="4769" href="plfa.Adequacy.html#4710" class="Bound">u</a> <a id="4771" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#612" class="Datatype Operator">âŠ</a> <a id="4773" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="4782" href="plfa.Adequacy.html#4712" class="Bound">u&#39;</a>
<a id="4785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4695" class="Function">AboveFun-âŠ”</a><a id="4795" class="Symbol">{</a><a id="4796" href="plfa.Adequacy.html#4796" class="Bound">u</a><a id="4797" class="Symbol">}{</a><a id="4799" href="plfa.Adequacy.html#4799" class="Bound">u&#39;</a><a id="4801" class="Symbol">}</a> <a id="4803" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4805" href="plfa.Adequacy.html#4805" class="Bound">v</a> <a id="4807" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4809" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4811" href="plfa.Adequacy.html#4811" class="Bound">w</a> <a id="4813" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4815" href="plfa.Adequacy.html#4815" class="Bound">vâ†¦wâŠ‘uâŠ”u&#39;</a> <a id="4824" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4826" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="4832" class="Keyword">with</a> <a id="4837" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#39986" class="Function">sub-inv-fun</a> <a id="4849" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4815" class="Bound">vâ†¦wâŠ‘uâŠ”u&#39;</a>
<a id="4858" class="Symbol">...</a> <a id="4862" class="Symbol">|</a> <a id="4864" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4866" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4866" class="Bound">Î“</a> <a id="4868" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4870" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4872" href="plfa.Adequacy.html#4872" class="Bound">f</a> <a id="4874" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4876" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4878" href="plfa.Adequacy.html#4878" class="Bound">Î“âŠ†uâŠ”u&#39;</a> <a id="4885" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4887" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4889" href="plfa.Adequacy.html#4889" class="Bound">lt1</a> <a id="4893" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4895" href="plfa.Adequacy.html#4895" class="Bound">lt2</a> <a id="4899" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4901" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4903" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4905" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="4911" class="Keyword">with</a> <a id="4916" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#29592" class="Function">Funsâˆˆ</a> <a id="4922" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4872" class="Bound">f</a>
<a id="4924" class="Symbol">...</a> <a id="4928" class="Symbol">|</a> <a id="4930" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4932" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4932" class="Bound">A</a> <a id="4934" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4936" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4938" href="plfa.Adequacy.html#4938" class="Bound">B</a> <a id="4940" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4942" href="plfa.Adequacy.html#4942" class="Bound">m</a> <a id="4944" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="4946" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="4952" class="Keyword">with</a> <a id="4957" class="Bound">Î“âŠ†uâŠ”u&#39;</a> <a id="4964" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4942" class="Bound">m</a>
<a id="4966" class="Symbol">...</a> <a id="4970" class="Symbol">|</a> <a id="4972" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">injâ‚</a> <a id="4977" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4977" class="Bound">x</a> <a id="4979" class="Symbol">=</a> <a id="4981" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">injâ‚</a> <a id="4986" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4988" class="Bound">A</a> <a id="4990" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4992" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="4994" class="Bound">B</a> <a id="4996" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4998" class="Symbol">(</a><a id="4999" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#27906" class="Function">âˆˆâ†’âŠ‘</a> <a id="5003" href="plfa.Adequacy.html#4977" class="Bound">x</a><a id="5004" class="Symbol">)</a> <a id="5006" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5008" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="5010" class="Symbol">...</a> <a id="5014" class="Symbol">|</a> <a id="5016" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">injâ‚‚</a> <a id="5021" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5021" class="Bound">x</a> <a id="5023" class="Symbol">=</a> <a id="5025" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">injâ‚‚</a> <a id="5030" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5032" class="Bound">A</a> <a id="5034" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5036" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5038" class="Bound">B</a> <a id="5040" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5042" class="Symbol">(</a><a id="5043" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#27906" class="Function">âˆˆâ†’âŠ‘</a> <a id="5047" href="plfa.Adequacy.html#5021" class="Bound">x</a><a id="5048" class="Symbol">)</a> <a id="5050" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5052" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}
On the other hand, if neither of `u` and `u'` is greater than a function,
then their join is also not greater than a function.

{% raw %}<pre class="Agda"><a id="not-AboveFun-âŠ”"></a><a id="5191" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5191" class="Function">not-AboveFun-âŠ”</a> <a id="5206" class="Symbol">:</a> <a id="5208" class="Symbol">âˆ€{</a><a id="5210" href="plfa.Adequacy.html#5210" class="Bound">u</a> <a id="5212" href="plfa.Adequacy.html#5212" class="Bound">u&#39;</a> <a id="5215" class="Symbol">:</a> <a id="5217" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="5222" class="Symbol">}</a>
               <a id="5239" class="Symbol">â†’</a> <a id="5241" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5243" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="5252" href="plfa.Adequacy.html#5210" class="Bound">u</a> <a id="5254" class="Symbol">â†’</a> <a id="5256" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5258" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5267" href="plfa.Adequacy.html#5212" class="Bound">u&#39;</a>
               <a id="5285" class="Symbol">â†’</a> <a id="5287" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5289" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="5298" class="Symbol">(</a><a id="5299" href="plfa.Adequacy.html#5210" class="Bound">u</a> <a id="5301" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="5303" href="plfa.Adequacy.html#5212" class="Bound">u&#39;</a><a id="5305" class="Symbol">)</a>
<a id="5307" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5191" class="Function">not-AboveFun-âŠ”</a> <a id="5322" href="plfa.Adequacy.html#5322" class="Bound">naf1</a> <a id="5327" href="plfa.Adequacy.html#5327" class="Bound">naf2</a> <a id="5332" href="plfa.Adequacy.html#5332" class="Bound">af12</a>
    <a id="5341" class="Keyword">with</a> <a id="5346" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4695" class="Function">AboveFun-âŠ”</a> <a id="5357" href="plfa.Adequacy.html#5332" class="Bound">af12</a>
<a id="5362" class="Symbol">...</a> <a id="5366" class="Symbol">|</a> <a id="5368" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">injâ‚</a> <a id="5373" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5373" class="Bound">af1</a> <a id="5377" class="Symbol">=</a> <a id="5379" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5393" href="plfa.Adequacy.html#5373" class="Bound">af1</a> <a id="5397" class="Bound">naf1</a>
<a id="5402" class="Symbol">...</a> <a id="5406" class="Symbol">|</a> <a id="5408" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">injâ‚‚</a> <a id="5413" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5413" class="Bound">af2</a> <a id="5417" class="Symbol">=</a> <a id="5419" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5433" href="plfa.Adequacy.html#5413" class="Bound">af2</a> <a id="5437" class="Bound">naf2</a>
</pre>{% endraw %}
The converse is also true. If the join of two values is not above a
function, then neither of them is individually.

{% raw %}<pre class="Agda"><a id="not-AboveFun-âŠ”-inv"></a><a id="5568" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5568" class="Function">not-AboveFun-âŠ”-inv</a> <a id="5587" class="Symbol">:</a> <a id="5589" class="Symbol">âˆ€{</a><a id="5591" href="plfa.Adequacy.html#5591" class="Bound">u</a> <a id="5593" href="plfa.Adequacy.html#5593" class="Bound">u&#39;</a> <a id="5596" class="Symbol">:</a> <a id="5598" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="5603" class="Symbol">}</a> <a id="5605" class="Symbol">â†’</a> <a id="5607" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5609" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5618" class="Symbol">(</a><a id="5619" href="plfa.Adequacy.html#5591" class="Bound">u</a> <a id="5621" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="5623" href="plfa.Adequacy.html#5593" class="Bound">u&#39;</a><a id="5625" class="Symbol">)</a>
              <a id="5641" class="Symbol">â†’</a> <a id="5643" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5645" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="5654" href="plfa.Adequacy.html#5591" class="Bound">u</a> <a id="5656" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">Ã—</a> <a id="5658" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5660" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5669" href="plfa.Adequacy.html#5593" class="Bound">u&#39;</a>
<a id="5672" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5568" class="Function">not-AboveFun-âŠ”-inv</a> <a id="5691" href="plfa.Adequacy.html#5691" class="Bound">af</a> <a id="5694" class="Symbol">=</a> <a id="5696" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5698" href="plfa.Adequacy.html#5724" class="Function">f</a> <a id="5700" href="plfa.Adequacy.html#5691" class="Bound">af</a> <a id="5703" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5705" href="plfa.Adequacy.html#5878" class="Function">g</a> <a id="5707" href="plfa.Adequacy.html#5691" class="Bound">af</a> <a id="5710" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
  <a id="5714" class="Keyword">where</a>
    <a id="5724" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5724" class="Function">f</a> <a id="5726" class="Symbol">:</a> <a id="5728" class="Symbol">âˆ€{</a><a id="5730" href="plfa.Adequacy.html#5730" class="Bound">u</a> <a id="5732" href="plfa.Adequacy.html#5732" class="Bound">u&#39;</a> <a id="5735" class="Symbol">:</a> <a id="5737" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="5742" class="Symbol">}</a> <a id="5744" class="Symbol">â†’</a> <a id="5746" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5748" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5757" class="Symbol">(</a><a id="5758" href="plfa.Adequacy.html#5730" class="Bound">u</a> <a id="5760" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="5762" href="plfa.Adequacy.html#5732" class="Bound">u&#39;</a><a id="5764" class="Symbol">)</a> <a id="5766" class="Symbol">â†’</a> <a id="5768" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5770" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5779" href="plfa.Adequacy.html#5730" class="Bound">u</a>
    <a id="5785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5724" class="Function">f</a><a id="5786" class="Symbol">{</a><a id="5787" href="plfa.Adequacy.html#5787" class="Bound">u</a><a id="5788" class="Symbol">}{</a><a id="5790" href="plfa.Adequacy.html#5790" class="Bound">u&#39;</a><a id="5792" class="Symbol">}</a> <a id="5794" href="plfa.Adequacy.html#5794" class="Bound">af12</a> <a id="5799" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5801" href="plfa.Adequacy.html#5801" class="Bound">v</a> <a id="5803" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5805" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5807" href="plfa.Adequacy.html#5807" class="Bound">w</a> <a id="5809" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5811" href="plfa.Adequacy.html#5811" class="Bound">lt</a> <a id="5814" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5816" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5818" class="Symbol">=</a>
        <a id="5828" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5842" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5844" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5801" class="Bound">v</a> <a id="5846" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5848" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5850" href="plfa.Adequacy.html#5807" class="Bound">w</a> <a id="5852" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5854" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4475" class="InductiveConstructor">ConjR1âŠ‘</a> <a id="5862" href="plfa.Adequacy.html#5811" class="Bound">lt</a> <a id="5865" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5867" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5869" href="plfa.Adequacy.html#5794" class="Bound">af12</a>
    <a id="5878" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5878" class="Function">g</a> <a id="5880" class="Symbol">:</a> <a id="5882" class="Symbol">âˆ€{</a><a id="5884" href="plfa.Adequacy.html#5884" class="Bound">u</a> <a id="5886" href="plfa.Adequacy.html#5886" class="Bound">u&#39;</a> <a id="5889" class="Symbol">:</a> <a id="5891" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="5896" class="Symbol">}</a> <a id="5898" class="Symbol">â†’</a> <a id="5900" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5902" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5911" class="Symbol">(</a><a id="5912" href="plfa.Adequacy.html#5884" class="Bound">u</a> <a id="5914" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="5916" href="plfa.Adequacy.html#5886" class="Bound">u&#39;</a><a id="5918" class="Symbol">)</a> <a id="5920" class="Symbol">â†’</a> <a id="5922" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="5924" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="5933" href="plfa.Adequacy.html#5886" class="Bound">u&#39;</a>
    <a id="5940" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5878" class="Function">g</a><a id="5941" class="Symbol">{</a><a id="5942" href="plfa.Adequacy.html#5942" class="Bound">u</a><a id="5943" class="Symbol">}{</a><a id="5945" href="plfa.Adequacy.html#5945" class="Bound">u&#39;</a><a id="5947" class="Symbol">}</a> <a id="5949" href="plfa.Adequacy.html#5949" class="Bound">af12</a> <a id="5954" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5956" href="plfa.Adequacy.html#5956" class="Bound">v</a> <a id="5958" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5960" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5962" href="plfa.Adequacy.html#5962" class="Bound">w</a> <a id="5964" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5966" href="plfa.Adequacy.html#5966" class="Bound">lt</a> <a id="5969" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5971" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="5973" class="Symbol">=</a>
        <a id="5983" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5997" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="5999" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5956" class="Bound">v</a> <a id="6001" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6003" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6005" href="plfa.Adequacy.html#5962" class="Bound">w</a> <a id="6007" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6009" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4549" class="InductiveConstructor">ConjR2âŠ‘</a> <a id="6017" href="plfa.Adequacy.html#5966" class="Bound">lt</a> <a id="6020" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6022" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6024" href="plfa.Adequacy.html#5949" class="Bound">af12</a>
</pre>{% endraw %}
The property of being greater than a function value is decidable, as
exhibited by the following function.

{% raw %}<pre class="Agda"><a id="AboveFun?"></a><a id="6145" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="6155" class="Symbol">:</a> <a id="6157" class="Symbol">(</a><a id="6158" href="plfa.Adequacy.html#6158" class="Bound">v</a> <a id="6160" class="Symbol">:</a> <a id="6162" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="6167" class="Symbol">)</a> <a id="6169" class="Symbol">â†’</a> <a id="6171" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="6175" class="Symbol">(</a><a id="6176" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="6185" href="plfa.Adequacy.html#6158" class="Bound">v</a><a id="6186" class="Symbol">)</a>
<a id="6188" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="6198" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3991" class="InductiveConstructor">âŠ¥</a> <a id="6200" class="Symbol">=</a> <a id="6202" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6205" href="plfa.Adequacy.html#4395" class="Function">AboveFunâŠ¥</a>
<a id="6215" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="6225" class="Symbol">(</a><a id="6226" href="plfa.Adequacy.html#6226" class="Bound">v</a> <a id="6228" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="6230" href="plfa.Adequacy.html#6230" class="Bound">w</a><a id="6231" class="Symbol">)</a> <a id="6233" class="Symbol">=</a> <a id="6235" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6239" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6241" href="plfa.Adequacy.html#6226" class="Bound">v</a> <a id="6243" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6245" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6247" href="plfa.Adequacy.html#6230" class="Bound">w</a> <a id="6249" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6251" href="plfa.Denotational.html#5480" class="Function">ReflâŠ‘</a> <a id="6257" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6259" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="6261" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="6271" class="Symbol">(</a><a id="6272" href="plfa.Adequacy.html#6272" class="Bound">u</a> <a id="6274" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="6276" href="plfa.Adequacy.html#6276" class="Bound">u&#39;</a><a id="6278" class="Symbol">)</a>
    <a id="6284" class="Keyword">with</a> <a id="6289" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="6299" href="plfa.Adequacy.html#6272" class="Bound">u</a> <a id="6301" class="Symbol">|</a> <a id="6303" href="plfa.Adequacy.html#6145" class="Function">AboveFun?</a> <a id="6313" href="plfa.Adequacy.html#6276" class="Bound">u&#39;</a>
<a id="6316" class="Symbol">...</a> <a id="6320" class="Symbol">|</a> <a id="6322" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6326" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6328" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6328" class="Bound">v</a> <a id="6330" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6332" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6334" href="plfa.Adequacy.html#6334" class="Bound">w</a> <a id="6336" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6338" href="plfa.Adequacy.html#6338" class="Bound">lt</a> <a id="6341" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6343" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6345" class="Symbol">|</a> <a id="6347" class="Symbol">_</a> <a id="6349" class="Symbol">=</a> <a id="6351" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6355" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6357" href="plfa.Adequacy.html#6328" class="Bound">v</a> <a id="6359" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6361" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6363" href="plfa.Adequacy.html#6334" class="Bound">w</a> <a id="6365" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6367" class="Symbol">(</a><a id="6368" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4475" class="InductiveConstructor">ConjR1âŠ‘</a> <a id="6376" href="plfa.Adequacy.html#6338" class="Bound">lt</a><a id="6378" class="Symbol">)</a> <a id="6380" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6382" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="6384" class="Symbol">...</a> <a id="6388" class="Symbol">|</a> <a id="6390" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6393" class="Symbol">_</a> <a id="6395" class="Symbol">|</a> <a id="6397" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6401" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6403" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6403" class="Bound">v</a> <a id="6405" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6407" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6409" href="plfa.Adequacy.html#6409" class="Bound">w</a> <a id="6411" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6413" href="plfa.Adequacy.html#6413" class="Bound">lt</a> <a id="6416" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6418" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6420" class="Symbol">=</a> <a id="6422" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6426" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6428" href="plfa.Adequacy.html#6403" class="Bound">v</a> <a id="6430" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6432" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="6434" href="plfa.Adequacy.html#6409" class="Bound">w</a> <a id="6436" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6438" class="Symbol">(</a><a id="6439" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4549" class="InductiveConstructor">ConjR2âŠ‘</a> <a id="6447" href="plfa.Adequacy.html#6413" class="Bound">lt</a><a id="6449" class="Symbol">)</a> <a id="6451" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="6453" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="6455" class="Symbol">...</a> <a id="6459" class="Symbol">|</a> <a id="6461" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6464" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6464" class="Bound">x</a> <a id="6466" class="Symbol">|</a> <a id="6468" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6471" href="plfa.Adequacy.html#6471" class="Bound">y</a> <a id="6473" class="Symbol">=</a> <a id="6475" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6478" class="Symbol">(</a><a id="6479" href="plfa.Adequacy.html#5191" class="Function">not-AboveFun-âŠ”</a> <a id="6494" href="plfa.Adequacy.html#6464" class="Bound">x</a> <a id="6496" href="plfa.Adequacy.html#6471" class="Bound">y</a><a id="6497" class="Symbol">)</a>
</pre>{% endraw %}

## Relating values to closures

Next we relate semantic values to closures.  The relation `ğ•` is for
closures whose term is a lambda abstraction, i.e., in weak-head normal
form (WHNF). The relation ğ”¼ is for any closure. Roughly speaking,
`ğ”¼ v c` will hold if, when `v` is greater than a function value, `c` evaluates
to a closure `c'` in WHNF and `ğ• v c'`. Regarding `ğ• v c`, it will hold when
`c` is in WHNF, and if `v` is a function, the body of `c` evaluates
according to `v`.

{% raw %}<pre class="Agda"><a id="ğ•"></a><a id="6990" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="6992" class="Symbol">:</a> <a id="6994" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a> <a id="7000" class="Symbol">â†’</a> <a id="7002" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a> <a id="7007" class="Symbol">â†’</a> <a id="7009" class="PrimitiveType">Set</a>
<a id="ğ”¼"></a><a id="7013" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7013" class="Function">ğ”¼</a> <a id="7015" class="Symbol">:</a> <a id="7017" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a> <a id="7023" class="Symbol">â†’</a> <a id="7025" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a> <a id="7030" class="Symbol">â†’</a> <a id="7032" class="PrimitiveType">Set</a>
</pre>{% endraw %}
We define `ğ•` as a function from values and closures to `Set` and not as a
data type because it is mutually recursive with `ğ”¼` in a negative
position (to the left of an implication).  We first perform case
analysis on the term in the closure. If the term is a variable or
application, then `ğ•` is false (`Bot`). If the term is a lambda
abstraction, we define `ğ•` by recursion on the value, which we
describe below.

{% raw %}<pre class="Agda"><a id="7461" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="7463" href="plfa.Adequacy.html#7463" class="Bound">v</a> <a id="7465" class="Symbol">(</a><a id="7466" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="7471" class="Symbol">(</a><a id="7472" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="7474" href="plfa.Adequacy.html#7474" class="Bound">xâ‚</a><a id="7476" class="Symbol">)</a> <a id="7478" href="plfa.Adequacy.html#7478" class="Bound">Î³</a><a id="7479" class="Symbol">)</a> <a id="7481" class="Symbol">=</a> <a id="7483" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">Bot</a>
<a id="7487" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="7489" href="plfa.Adequacy.html#7489" class="Bound">v</a> <a id="7491" class="Symbol">(</a><a id="7492" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="7497" class="Symbol">(</a><a id="7498" href="plfa.Adequacy.html#7498" class="Bound">M</a> <a id="7500" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">Â·</a> <a id="7502" href="plfa.Adequacy.html#7502" class="Bound">Mâ‚</a><a id="7504" class="Symbol">)</a> <a id="7506" href="plfa.Adequacy.html#7506" class="Bound">Î³</a><a id="7507" class="Symbol">)</a> <a id="7509" class="Symbol">=</a> <a id="7511" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">Bot</a>
<a id="7515" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="7517" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3991" class="InductiveConstructor">âŠ¥</a> <a id="7519" class="Symbol">(</a><a id="7520" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="7525" class="Symbol">(</a><a id="7526" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="7528" href="plfa.Adequacy.html#7528" class="Bound">M</a><a id="7529" class="Symbol">)</a> <a id="7531" href="plfa.Adequacy.html#7531" class="Bound">Î³</a><a id="7532" class="Symbol">)</a> <a id="7534" class="Symbol">=</a> <a id="7536" href="Agda.Builtin.Unit.html#137" class="Record">âŠ¤</a>
<a id="7538" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="7540" class="Symbol">(</a><a id="7541" href="plfa.Adequacy.html#7541" class="Bound">v</a> <a id="7543" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="7545" href="plfa.Adequacy.html#7545" class="Bound">w</a><a id="7546" class="Symbol">)</a> <a id="7548" class="Symbol">(</a><a id="7549" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="7554" class="Symbol">(</a><a id="7555" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="7557" href="plfa.Adequacy.html#7557" class="Bound">N</a><a id="7558" class="Symbol">)</a> <a id="7560" href="plfa.Adequacy.html#7560" class="Bound">Î³</a><a id="7561" class="Symbol">)</a> <a id="7563" class="Symbol">=</a>
    <a id="7569" class="Symbol">(âˆ€{</a><a id="7572" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7572" class="Bound">c</a> <a id="7574" class="Symbol">:</a> <a id="7576" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a><a id="7580" class="Symbol">}</a> <a id="7582" class="Symbol">â†’</a> <a id="7584" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="7586" href="plfa.Adequacy.html#7541" class="Bound">v</a> <a id="7588" href="plfa.Adequacy.html#7572" class="Bound">c</a> <a id="7590" class="Symbol">â†’</a> <a id="7592" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="7601" href="plfa.Adequacy.html#7545" class="Bound">w</a> <a id="7603" class="Symbol">â†’</a> <a id="7605" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="7608" href="plfa.Adequacy.html#7608" class="Bound">c&#39;</a> <a id="7611" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="7613" href="plfa.CallByName.html#2484" class="Datatype">Clos</a> <a id="7618" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
        <a id="7628" class="Symbol">(</a><a id="7629" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7560" class="Bound">Î³</a> <a id="7631" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2689" class="Function Operator">,&#39;</a> <a id="7634" href="plfa.Adequacy.html#7572" class="Bound">c</a><a id="7635" class="Symbol">)</a> <a id="7637" href="plfa.CallByName.html#3038" class="Datatype Operator">âŠ¢</a> <a id="7639" href="plfa.Adequacy.html#7557" class="Bound">N</a> <a id="7641" href="plfa.CallByName.html#3038" class="Datatype Operator">â‡“</a> <a id="7643" href="plfa.Adequacy.html#7608" class="Bound">c&#39;</a>  <a id="7647" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">Ã—</a>  <a id="7650" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="7652" href="plfa.Adequacy.html#7545" class="Bound">w</a> <a id="7654" href="plfa.Adequacy.html#7608" class="Bound">c&#39;</a><a id="7656" class="Symbol">)</a>
<a id="7658" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="7660" class="Symbol">(</a><a id="7661" href="plfa.Adequacy.html#7661" class="Bound">u</a> <a id="7663" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="7665" href="plfa.Adequacy.html#7665" class="Bound">v</a><a id="7666" class="Symbol">)</a> <a id="7668" class="Symbol">(</a><a id="7669" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="7674" class="Symbol">(</a><a id="7675" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="7677" href="plfa.Adequacy.html#7677" class="Bound">N</a><a id="7678" class="Symbol">)</a> <a id="7680" href="plfa.Adequacy.html#7680" class="Bound">Î³</a><a id="7681" class="Symbol">)</a> <a id="7683" class="Symbol">=</a> <a id="7685" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="7687" href="plfa.Adequacy.html#7661" class="Bound">u</a> <a id="7689" class="Symbol">(</a><a id="7690" href="plfa.CallByName.html#2503" class="InductiveConstructor">clos</a> <a id="7695" class="Symbol">(</a><a id="7696" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">Æ›</a> <a id="7698" href="plfa.Adequacy.html#7677" class="Bound">N</a><a id="7699" class="Symbol">)</a> <a id="7701" href="plfa.Adequacy.html#7680" class="Bound">Î³</a><a id="7702" class="Symbol">)</a> <a id="7704" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">Ã—</a> <a id="7706" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="7708" href="plfa.Adequacy.html#7665" class="Bound">v</a> <a id="7710" class="Symbol">(</a><a id="7711" href="plfa.CallByName.html#2503" class="InductiveConstructor">clos</a> <a id="7716" class="Symbol">(</a><a id="7717" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">Æ›</a> <a id="7719" href="plfa.Adequacy.html#7677" class="Bound">N</a><a id="7720" class="Symbol">)</a> <a id="7722" href="plfa.Adequacy.html#7680" class="Bound">Î³</a><a id="7723" class="Symbol">)</a>
</pre>{% endraw %}
* If the value is `âŠ¥`, then the result is true (`âŠ¤`).

* If the value is a join (u âŠ” v), then the result is the pair
  (conjunction) of ğ• is true for both u and v.

* The important case is for a function value `v â†¦ w` and closure
  `clos (Æ› N) Î³`. Given any closure `c` such that `ğ”¼ v c`, if `w` is
  greater than a function, then `N` evaluates (with `Î³` extended with `c`)
  to some closure `c'` and we have `ğ• w c'`.


The definition of `ğ”¼` is straightforward. If `v` is a greater than a
function, then `M` evaluates to a closure related to `v`.

{% raw %}<pre class="Agda"><a id="8283" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7013" class="Function">ğ”¼</a> <a id="8285" href="plfa.Adequacy.html#8285" class="Bound">v</a> <a id="8287" class="Symbol">(</a><a id="8288" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="8293" href="plfa.Adequacy.html#8293" class="Bound">M</a> <a id="8295" href="plfa.Adequacy.html#8295" class="Bound">Î³&#39;</a><a id="8297" class="Symbol">)</a> <a id="8299" class="Symbol">=</a> <a id="8301" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="8310" href="plfa.Adequacy.html#8285" class="Bound">v</a> <a id="8312" class="Symbol">â†’</a> <a id="8314" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="8317" href="plfa.Adequacy.html#8317" class="Bound">c</a> <a id="8319" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="8321" href="plfa.CallByName.html#2484" class="Datatype">Clos</a> <a id="8326" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="8328" href="plfa.Adequacy.html#8295" class="Bound">Î³&#39;</a> <a id="8331" href="plfa.CallByName.html#3038" class="Datatype Operator">âŠ¢</a> <a id="8333" href="plfa.Adequacy.html#8293" class="Bound">M</a> <a id="8335" href="plfa.CallByName.html#3038" class="Datatype Operator">â‡“</a> <a id="8337" href="plfa.Adequacy.html#8317" class="Bound">c</a> <a id="8339" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">Ã—</a> <a id="8341" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="8343" href="plfa.Adequacy.html#8285" class="Bound">v</a> <a id="8345" href="plfa.Adequacy.html#8317" class="Bound">c</a>
</pre>{% endraw %}
The proof of the main lemma is by induction on `Î³ âŠ¢ M â†“ v`, so it goes
underneath lambda abstractions and must therefore reason about open
terms (terms with variables). So we must relate environments of
semantic values to environments of closures.  In the following, `ğ”¾`
relates `Î³` to `Î³'` if the corresponding values and closures are related
by `ğ”¼`.

{% raw %}<pre class="Agda"><a id="ğ”¾"></a><a id="8709" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8709" class="Function">ğ”¾</a> <a id="8711" class="Symbol">:</a> <a id="8713" class="Symbol">âˆ€{</a><a id="8715" href="plfa.Adequacy.html#8715" class="Bound">Î“</a><a id="8716" class="Symbol">}</a> <a id="8718" class="Symbol">â†’</a> <a id="8720" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7109" class="Function">Env</a> <a id="8724" href="plfa.Adequacy.html#8715" class="Bound">Î“</a> <a id="8726" class="Symbol">â†’</a> <a id="8728" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="8736" href="plfa.Adequacy.html#8715" class="Bound">Î“</a> <a id="8738" class="Symbol">â†’</a> <a id="8740" class="PrimitiveType">Set</a>
<a id="8744" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8709" class="Function">ğ”¾</a> <a id="8746" class="Symbol">{</a><a id="8747" href="plfa.Adequacy.html#8747" class="Bound">Î“</a><a id="8748" class="Symbol">}</a> <a id="8750" href="plfa.Adequacy.html#8750" class="Bound">Î³</a> <a id="8752" href="plfa.Adequacy.html#8752" class="Bound">Î³&#39;</a> <a id="8755" class="Symbol">=</a> <a id="8757" class="Symbol">âˆ€{</a><a id="8759" href="plfa.Adequacy.html#8759" class="Bound">x</a> <a id="8761" class="Symbol">:</a> <a id="8763" href="plfa.Adequacy.html#8747" class="Bound">Î“</a> <a id="8765" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3483" class="Datatype Operator">âˆ‹</a> <a id="8767" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="8768" class="Symbol">}</a> <a id="8770" class="Symbol">â†’</a> <a id="8772" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="8774" class="Symbol">(</a><a id="8775" href="plfa.Adequacy.html#8750" class="Bound">Î³</a> <a id="8777" href="plfa.Adequacy.html#8759" class="Bound">x</a><a id="8778" class="Symbol">)</a> <a id="8780" class="Symbol">(</a><a id="8781" href="plfa.Adequacy.html#8752" class="Bound">Î³&#39;</a> <a id="8784" href="plfa.Adequacy.html#8759" class="Bound">x</a><a id="8785" class="Symbol">)</a>

<a id="ğ”¾-âˆ…"></a><a id="8788" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8788" class="Function">ğ”¾-âˆ…</a> <a id="8792" class="Symbol">:</a> <a id="8794" href="plfa.Adequacy.html#8709" class="Function">ğ”¾</a> <a id="8796" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7233" class="Function">`âˆ…</a> <a id="8799" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2667" class="Function">âˆ…&#39;</a>
<a id="8802" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8788" class="Function">ğ”¾-âˆ…</a> <a id="8806" class="Symbol">{()}</a>

<a id="ğ”¾-ext"></a><a id="8812" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8812" class="Function">ğ”¾-ext</a> <a id="8818" class="Symbol">:</a> <a id="8820" class="Symbol">âˆ€{</a><a id="8822" href="plfa.Adequacy.html#8822" class="Bound">Î“</a><a id="8823" class="Symbol">}{</a><a id="8825" href="plfa.Adequacy.html#8825" class="Bound">Î³</a> <a id="8827" class="Symbol">:</a> <a id="8829" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7109" class="Function">Env</a> <a id="8833" href="plfa.Adequacy.html#8822" class="Bound">Î“</a><a id="8834" class="Symbol">}{</a><a id="8836" href="plfa.Adequacy.html#8836" class="Bound">Î³&#39;</a> <a id="8839" class="Symbol">:</a> <a id="8841" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="8849" href="plfa.Adequacy.html#8822" class="Bound">Î“</a><a id="8850" class="Symbol">}{</a><a id="8852" href="plfa.Adequacy.html#8852" class="Bound">v</a> <a id="8854" href="plfa.Adequacy.html#8854" class="Bound">c</a><a id="8855" class="Symbol">}</a>
      <a id="8863" class="Symbol">â†’</a> <a id="8865" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8709" class="Function">ğ”¾</a> <a id="8867" href="plfa.Adequacy.html#8825" class="Bound">Î³</a> <a id="8869" href="plfa.Adequacy.html#8836" class="Bound">Î³&#39;</a> <a id="8872" class="Symbol">â†’</a> <a id="8874" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="8876" href="plfa.Adequacy.html#8852" class="Bound">v</a> <a id="8878" href="plfa.Adequacy.html#8854" class="Bound">c</a> <a id="8880" class="Symbol">â†’</a> <a id="8882" href="plfa.Adequacy.html#8709" class="Function">ğ”¾</a> <a id="8884" class="Symbol">(</a><a id="8885" href="plfa.Adequacy.html#8825" class="Bound">Î³</a> <a id="8887" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7266" class="Function Operator">`,</a> <a id="8890" href="plfa.Adequacy.html#8852" class="Bound">v</a><a id="8891" class="Symbol">)</a> <a id="8893" class="Symbol">(</a><a id="8894" href="plfa.Adequacy.html#8836" class="Bound">Î³&#39;</a> <a id="8897" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2689" class="Function Operator">,&#39;</a> <a id="8900" href="plfa.Adequacy.html#8854" class="Bound">c</a><a id="8901" class="Symbol">)</a>
<a id="8903" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8812" class="Function">ğ”¾-ext</a> <a id="8909" class="Symbol">{</a><a id="8910" href="plfa.Adequacy.html#8910" class="Bound">Î“</a><a id="8911" class="Symbol">}</a> <a id="8913" class="Symbol">{</a><a id="8914" href="plfa.Adequacy.html#8914" class="Bound">Î³</a><a id="8915" class="Symbol">}</a> <a id="8917" class="Symbol">{</a><a id="8918" href="plfa.Adequacy.html#8918" class="Bound">Î³&#39;</a><a id="8920" class="Symbol">}</a> <a id="8922" href="plfa.Adequacy.html#8922" class="Bound">g</a> <a id="8924" href="plfa.Adequacy.html#8924" class="Bound">e</a> <a id="8926" class="Symbol">{</a><a id="8927" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3519" class="InductiveConstructor">Z</a><a id="8928" class="Symbol">}</a> <a id="8930" class="Symbol">=</a> <a id="8932" href="plfa.Adequacy.html#8924" class="Bound">e</a>
<a id="8934" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8812" class="Function">ğ”¾-ext</a> <a id="8940" class="Symbol">{</a><a id="8941" href="plfa.Adequacy.html#8941" class="Bound">Î“</a><a id="8942" class="Symbol">}</a> <a id="8944" class="Symbol">{</a><a id="8945" href="plfa.Adequacy.html#8945" class="Bound">Î³</a><a id="8946" class="Symbol">}</a> <a id="8948" class="Symbol">{</a><a id="8949" href="plfa.Adequacy.html#8949" class="Bound">Î³&#39;</a><a id="8951" class="Symbol">}</a> <a id="8953" href="plfa.Adequacy.html#8953" class="Bound">g</a> <a id="8955" href="plfa.Adequacy.html#8955" class="Bound">e</a> <a id="8957" class="Symbol">{</a><a id="8958" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3564" class="InductiveConstructor Operator">S</a> <a id="8960" href="plfa.Adequacy.html#8960" class="Bound">x</a><a id="8961" class="Symbol">}</a> <a id="8963" class="Symbol">=</a> <a id="8965" href="plfa.Adequacy.html#8953" class="Bound">g</a>
</pre>{% endraw %}

We need a few properties of the `ğ•` and `ğ”¼` relations.  The first is that
a closure in the `ğ•` relation must be in weak-head normal form.  We
define WHNF has follows.

{% raw %}<pre class="Agda"><a id="9145" class="Keyword">data</a> <a id="WHNF"></a><a id="9150" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9150" class="Datatype">WHNF</a> <a id="9155" class="Symbol">:</a> <a id="9157" class="Symbol">âˆ€</a> <a id="9159" class="Symbol">{</a><a id="9160" href="plfa.Adequacy.html#9160" class="Bound">Î“</a> <a id="9162" href="plfa.Adequacy.html#9162" class="Bound">A</a><a id="9163" class="Symbol">}</a> <a id="9165" class="Symbol">â†’</a> <a id="9167" href="plfa.Adequacy.html#9160" class="Bound">Î“</a> <a id="9169" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4252" class="Datatype Operator">âŠ¢</a> <a id="9171" href="plfa.Adequacy.html#9162" class="Bound">A</a> <a id="9173" class="Symbol">â†’</a> <a id="9175" class="PrimitiveType">Set</a> <a id="9179" class="Keyword">where</a>
  <a id="WHNF.Æ›_"></a><a id="9187" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="9190" class="Symbol">:</a> <a id="9192" class="Symbol">âˆ€</a> <a id="9194" class="Symbol">{</a><a id="9195" href="plfa.Adequacy.html#9195" class="Bound">Î“</a><a id="9196" class="Symbol">}</a> <a id="9198" class="Symbol">{</a><a id="9199" href="plfa.Adequacy.html#9199" class="Bound">N</a> <a id="9201" class="Symbol">:</a> <a id="9203" href="plfa.Adequacy.html#9195" class="Bound">Î“</a> <a id="9205" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3168" class="InductiveConstructor Operator">,</a> <a id="9207" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="9209" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="9211" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="9212" class="Symbol">}</a>
     <a id="9219" class="Symbol">â†’</a> <a id="9221" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9150" class="Datatype">WHNF</a> <a id="9226" class="Symbol">(</a><a id="9227" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="9229" href="plfa.Adequacy.html#9199" class="Bound">N</a><a id="9230" class="Symbol">)</a>
</pre>{% endraw %}
The proof goes by cases on the term in the closure.

{% raw %}<pre class="Agda"><a id="ğ•â†’WHNF"></a><a id="9294" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="9301" class="Symbol">:</a> <a id="9303" class="Symbol">âˆ€{</a><a id="9305" href="plfa.Adequacy.html#9305" class="Bound">Î“</a><a id="9306" class="Symbol">}{</a><a id="9308" href="plfa.Adequacy.html#9308" class="Bound">Î³</a> <a id="9310" class="Symbol">:</a> <a id="9312" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="9320" href="plfa.Adequacy.html#9305" class="Bound">Î“</a><a id="9321" class="Symbol">}{</a><a id="9323" href="plfa.Adequacy.html#9323" class="Bound">M</a> <a id="9325" class="Symbol">:</a> <a id="9327" href="plfa.Adequacy.html#9305" class="Bound">Î“</a> <a id="9329" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4252" class="Datatype Operator">âŠ¢</a> <a id="9331" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="9332" class="Symbol">}{</a><a id="9334" href="plfa.Adequacy.html#9334" class="Bound">v</a><a id="9335" class="Symbol">}</a>
       <a id="9344" class="Symbol">â†’</a> <a id="9346" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="9348" href="plfa.Adequacy.html#9334" class="Bound">v</a> <a id="9350" class="Symbol">(</a><a id="9351" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="9356" href="plfa.Adequacy.html#9323" class="Bound">M</a> <a id="9358" href="plfa.Adequacy.html#9308" class="Bound">Î³</a><a id="9359" class="Symbol">)</a> <a id="9361" class="Symbol">â†’</a> <a id="9363" href="plfa.Adequacy.html#9150" class="Datatype">WHNF</a> <a id="9368" href="plfa.Adequacy.html#9323" class="Bound">M</a>
<a id="9370" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="9377" class="Symbol">{</a><a id="9378" class="Argument">M</a> <a id="9380" class="Symbol">=</a> <a id="9382" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="9384" href="plfa.Adequacy.html#9384" class="Bound">x</a><a id="9385" class="Symbol">}</a> <a id="9387" class="Symbol">{</a><a id="9388" href="plfa.Adequacy.html#9388" class="Bound">v</a><a id="9389" class="Symbol">}</a> <a id="9391" class="Symbol">()</a>
<a id="9394" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="9401" class="Symbol">{</a><a id="9402" class="Argument">M</a> <a id="9404" class="Symbol">=</a> <a id="9406" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="9408" href="plfa.Adequacy.html#9408" class="Bound">N</a><a id="9409" class="Symbol">}</a> <a id="9411" class="Symbol">{</a><a id="9412" href="plfa.Adequacy.html#9412" class="Bound">v</a><a id="9413" class="Symbol">}</a> <a id="9415" href="plfa.Adequacy.html#9415" class="Bound">vc</a> <a id="9418" class="Symbol">=</a> <a id="9420" href="plfa.Adequacy.html#9187" class="InductiveConstructor Operator">Æ›_</a>
<a id="9423" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="9430" class="Symbol">{</a><a id="9431" class="Argument">M</a> <a id="9433" class="Symbol">=</a> <a id="9435" href="plfa.Adequacy.html#9435" class="Bound">L</a> <a id="9437" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">Â·</a> <a id="9439" href="plfa.Adequacy.html#9439" class="Bound">M</a><a id="9440" class="Symbol">}</a> <a id="9442" class="Symbol">{</a><a id="9443" href="plfa.Adequacy.html#9443" class="Bound">v</a><a id="9444" class="Symbol">}</a> <a id="9446" class="Symbol">()</a>
</pre>{% endraw %}
Next we have an introduction rule for `ğ•` that mimics the `âŠ”-intro`
rule. If both `u` and `v` are related to a closure `c`, then their join is
too.

{% raw %}<pre class="Agda"><a id="ğ•âŠ”-intro"></a><a id="9607" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9607" class="Function">ğ•âŠ”-intro</a> <a id="9616" class="Symbol">:</a> <a id="9618" class="Symbol">âˆ€{</a><a id="9620" href="plfa.Adequacy.html#9620" class="Bound">c</a> <a id="9622" href="plfa.Adequacy.html#9622" class="Bound">u</a> <a id="9624" href="plfa.Adequacy.html#9624" class="Bound">v</a><a id="9625" class="Symbol">}</a>
         <a id="9636" class="Symbol">â†’</a> <a id="9638" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="9640" href="plfa.Adequacy.html#9622" class="Bound">u</a> <a id="9642" href="plfa.Adequacy.html#9620" class="Bound">c</a> <a id="9644" class="Symbol">â†’</a> <a id="9646" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="9648" href="plfa.Adequacy.html#9624" class="Bound">v</a> <a id="9650" href="plfa.Adequacy.html#9620" class="Bound">c</a>
           <a id="9663" class="Comment">---------------</a>
         <a id="9688" class="Symbol">â†’</a> <a id="9690" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="9692" class="Symbol">(</a><a id="9693" href="plfa.Adequacy.html#9622" class="Bound">u</a> <a id="9695" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="9697" href="plfa.Adequacy.html#9624" class="Bound">v</a><a id="9698" class="Symbol">)</a> <a id="9700" href="plfa.Adequacy.html#9620" class="Bound">c</a>
<a id="9702" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9607" class="Function">ğ•âŠ”-intro</a> <a id="9711" class="Symbol">{</a><a id="9712" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="9717" class="Symbol">(</a><a id="9718" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="9720" href="plfa.Adequacy.html#9720" class="Bound">x</a><a id="9721" class="Symbol">)</a> <a id="9723" href="plfa.Adequacy.html#9723" class="Bound">Î³</a><a id="9724" class="Symbol">}</a> <a id="9726" class="Symbol">()</a> <a id="9729" href="plfa.Adequacy.html#9729" class="Bound">vc</a>
<a id="9732" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9607" class="Function">ğ•âŠ”-intro</a> <a id="9741" class="Symbol">{</a><a id="9742" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="9747" class="Symbol">(</a><a id="9748" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="9750" href="plfa.Adequacy.html#9750" class="Bound">N</a><a id="9751" class="Symbol">)</a> <a id="9753" href="plfa.Adequacy.html#9753" class="Bound">Î³</a><a id="9754" class="Symbol">}</a> <a id="9756" href="plfa.Adequacy.html#9756" class="Bound">uc</a> <a id="9759" href="plfa.Adequacy.html#9759" class="Bound">vc</a> <a id="9762" class="Symbol">=</a> <a id="9764" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="9766" href="plfa.Adequacy.html#9756" class="Bound">uc</a> <a id="9769" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9771" href="plfa.Adequacy.html#9759" class="Bound">vc</a> <a id="9774" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="9776" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9607" class="Function">ğ•âŠ”-intro</a> <a id="9785" class="Symbol">{</a><a id="9786" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="9791" class="Symbol">(</a><a id="9792" href="plfa.Adequacy.html#9792" class="Bound">L</a> <a id="9794" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">Â·</a> <a id="9796" href="plfa.Adequacy.html#9796" class="Bound">M</a><a id="9797" class="Symbol">)</a> <a id="9799" href="plfa.Adequacy.html#9799" class="Bound">Î³</a><a id="9800" class="Symbol">}</a> <a id="9802" class="Symbol">()</a> <a id="9805" href="plfa.Adequacy.html#9805" class="Bound">vc</a>
</pre>{% endraw %}
In a moment we prove that `ğ•` is preserved when going from a greater
value to a lesser value: if `ğ• v c` and `v' âŠ‘ v`, then `ğ• v' c`.
This property, named `ğ•-sub`, is needed by the main lemma in
the case for the `sub` rule.

To prove `ğ•-sub`, we in turn need the following property concerning
values that are not greater than a function, that is, values that are
equivalent to `âŠ¥`. In such cases, `ğ• v (clos (Æ› N) Î³')` is trivially true.

{% raw %}<pre class="Agda"><a id="not-AboveFun-ğ•"></a><a id="10256" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10256" class="Function">not-AboveFun-ğ•</a> <a id="10271" class="Symbol">:</a> <a id="10273" class="Symbol">âˆ€{</a><a id="10275" href="plfa.Adequacy.html#10275" class="Bound">v</a> <a id="10277" class="Symbol">:</a> <a id="10279" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3971" class="Datatype">Value</a><a id="10284" class="Symbol">}{</a><a id="10286" href="plfa.Adequacy.html#10286" class="Bound">Î“</a><a id="10287" class="Symbol">}{</a><a id="10289" href="plfa.Adequacy.html#10289" class="Bound">Î³&#39;</a> <a id="10292" class="Symbol">:</a> <a id="10294" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="10302" href="plfa.Adequacy.html#10286" class="Bound">Î“</a><a id="10303" class="Symbol">}{</a><a id="10305" href="plfa.Adequacy.html#10305" class="Bound">N</a> <a id="10307" class="Symbol">:</a> <a id="10309" href="plfa.Adequacy.html#10286" class="Bound">Î“</a> <a id="10311" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3168" class="InductiveConstructor Operator">,</a> <a id="10313" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="10315" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="10317" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="10319" class="Symbol">}</a>
    <a id="10325" class="Symbol">â†’</a> <a id="10327" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">Â¬</a> <a id="10329" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3992" class="Function">AboveFun</a> <a id="10338" href="plfa.Adequacy.html#10275" class="Bound">v</a>
      <a id="10346" class="Comment">-------------------</a>
    <a id="10370" class="Symbol">â†’</a> <a id="10372" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6990" class="Function">ğ•</a> <a id="10374" href="plfa.Adequacy.html#10275" class="Bound">v</a> <a id="10376" class="Symbol">(</a><a id="10377" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="10382" class="Symbol">(</a><a id="10383" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="10385" href="plfa.Adequacy.html#10305" class="Bound">N</a><a id="10386" class="Symbol">)</a> <a id="10388" href="plfa.Adequacy.html#10289" class="Bound">Î³&#39;</a><a id="10390" class="Symbol">)</a>
<a id="10392" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10256" class="Function">not-AboveFun-ğ•</a> <a id="10407" class="Symbol">{</a><a id="10408" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3991" class="InductiveConstructor">âŠ¥</a><a id="10409" class="Symbol">}</a> <a id="10411" href="plfa.Adequacy.html#10411" class="Bound">af</a> <a id="10414" class="Symbol">=</a> <a id="10416" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a>
<a id="10419" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10256" class="Function">not-AboveFun-ğ•</a> <a id="10434" class="Symbol">{</a><a id="10435" href="plfa.Adequacy.html#10435" class="Bound">v</a> <a id="10437" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="10439" href="plfa.Adequacy.html#10439" class="Bound">v&#39;</a><a id="10441" class="Symbol">}</a> <a id="10443" href="plfa.Adequacy.html#10443" class="Bound">af</a> <a id="10446" class="Symbol">=</a> <a id="10448" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a> <a id="10455" class="Symbol">(</a><a id="10456" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="10470" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="10472" href="plfa.Adequacy.html#10435" class="Bound">v</a> <a id="10474" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10476" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="10478" href="plfa.Adequacy.html#10439" class="Bound">v&#39;</a> <a id="10481" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10483" href="plfa.Denotational.html#5480" class="Function">ReflâŠ‘</a> <a id="10489" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="10491" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="10493" href="plfa.Adequacy.html#10443" class="Bound">af</a><a id="10495" class="Symbol">)</a>
<a id="10497" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10256" class="Function">not-AboveFun-ğ•</a> <a id="10512" class="Symbol">{</a><a id="10513" href="plfa.Adequacy.html#10513" class="Bound">vâ‚</a> <a id="10516" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="10518" href="plfa.Adequacy.html#10518" class="Bound">vâ‚‚</a><a id="10520" class="Symbol">}</a> <a id="10522" href="plfa.Adequacy.html#10522" class="Bound">af</a>
    <a id="10529" class="Keyword">with</a> <a id="10534" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5568" class="Function">not-AboveFun-âŠ”-inv</a> <a id="10553" href="plfa.Adequacy.html#10522" class="Bound">af</a>
<a id="10556" class="Symbol">...</a> <a id="10560" class="Symbol">|</a> <a id="10562" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="10564" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10564" class="Bound">af1</a> <a id="10568" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10570" href="plfa.Adequacy.html#10570" class="Bound">af2</a> <a id="10574" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="10576" class="Symbol">=</a> <a id="10578" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="10580" href="plfa.Adequacy.html#10256" class="Function">not-AboveFun-ğ•</a> <a id="10595" href="plfa.Adequacy.html#10564" class="Bound">af1</a> <a id="10599" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10601" href="plfa.Adequacy.html#10256" class="Function">not-AboveFun-ğ•</a> <a id="10616" href="plfa.Adequacy.html#10570" class="Bound">af2</a> <a id="10620" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}
The proofs of `ğ•-sub` and `ğ”¼-sub` are intertwined.

{% raw %}<pre class="Agda"><a id="sub-ğ•"></a><a id="10683" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="10689" class="Symbol">:</a> <a id="10691" class="Symbol">âˆ€{</a><a id="10693" href="plfa.Adequacy.html#10693" class="Bound">c</a> <a id="10695" class="Symbol">:</a> <a id="10697" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a><a id="10701" class="Symbol">}{</a><a id="10703" href="plfa.Adequacy.html#10703" class="Bound">v</a> <a id="10705" href="plfa.Adequacy.html#10705" class="Bound">v&#39;</a><a id="10707" class="Symbol">}</a> <a id="10709" class="Symbol">â†’</a> <a id="10711" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="10713" href="plfa.Adequacy.html#10703" class="Bound">v</a> <a id="10715" href="plfa.Adequacy.html#10693" class="Bound">c</a> <a id="10717" class="Symbol">â†’</a> <a id="10719" href="plfa.Adequacy.html#10705" class="Bound">v&#39;</a> <a id="10722" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4326" class="Datatype Operator">âŠ‘</a> <a id="10724" href="plfa.Adequacy.html#10703" class="Bound">v</a> <a id="10726" class="Symbol">â†’</a> <a id="10728" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="10730" href="plfa.Adequacy.html#10705" class="Bound">v&#39;</a> <a id="10733" href="plfa.Adequacy.html#10693" class="Bound">c</a>
<a id="sub-ğ”¼"></a><a id="10735" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10735" class="Function">sub-ğ”¼</a> <a id="10741" class="Symbol">:</a> <a id="10743" class="Symbol">âˆ€{</a><a id="10745" href="plfa.Adequacy.html#10745" class="Bound">c</a> <a id="10747" class="Symbol">:</a> <a id="10749" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a><a id="10753" class="Symbol">}{</a><a id="10755" href="plfa.Adequacy.html#10755" class="Bound">v</a> <a id="10757" href="plfa.Adequacy.html#10757" class="Bound">v&#39;</a><a id="10759" class="Symbol">}</a> <a id="10761" class="Symbol">â†’</a> <a id="10763" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="10765" href="plfa.Adequacy.html#10755" class="Bound">v</a> <a id="10767" href="plfa.Adequacy.html#10745" class="Bound">c</a> <a id="10769" class="Symbol">â†’</a> <a id="10771" href="plfa.Adequacy.html#10757" class="Bound">v&#39;</a> <a id="10774" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4326" class="Datatype Operator">âŠ‘</a> <a id="10776" href="plfa.Adequacy.html#10755" class="Bound">v</a> <a id="10778" class="Symbol">â†’</a> <a id="10780" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="10782" href="plfa.Adequacy.html#10757" class="Bound">v&#39;</a> <a id="10785" href="plfa.Adequacy.html#10745" class="Bound">c</a>
</pre>{% endraw %}
We prove `ğ•-sub` by case analysis on the closure's term, to dispatch the
cases for variables and application. We then proceed by induction on
`v' âŠ‘ v`. We describe each case below.

{% raw %}<pre class="Agda"><a id="10978" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="10984" class="Symbol">{</a><a id="10985" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="10990" class="Symbol">(</a><a id="10991" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="10993" href="plfa.Adequacy.html#10993" class="Bound">x</a><a id="10994" class="Symbol">)</a> <a id="10996" href="plfa.Adequacy.html#10996" class="Bound">Î³</a><a id="10997" class="Symbol">}</a> <a id="10999" class="Symbol">{</a><a id="11000" href="plfa.Adequacy.html#11000" class="Bound">v</a><a id="11001" class="Symbol">}</a> <a id="11003" class="Symbol">()</a> <a id="11006" href="plfa.Adequacy.html#11006" class="Bound">lt</a>
<a id="11009" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11015" class="Symbol">{</a><a id="11016" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11021" class="Symbol">(</a><a id="11022" href="plfa.Adequacy.html#11022" class="Bound">L</a> <a id="11024" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">Â·</a> <a id="11026" href="plfa.Adequacy.html#11026" class="Bound">M</a><a id="11027" class="Symbol">)</a> <a id="11029" href="plfa.Adequacy.html#11029" class="Bound">Î³</a><a id="11030" class="Symbol">}</a> <a id="11032" class="Symbol">()</a> <a id="11035" href="plfa.Adequacy.html#11035" class="Bound">lt</a>
<a id="11038" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11044" class="Symbol">{</a><a id="11045" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11050" class="Symbol">(</a><a id="11051" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11053" href="plfa.Adequacy.html#11053" class="Bound">N</a><a id="11054" class="Symbol">)</a> <a id="11056" href="plfa.Adequacy.html#11056" class="Bound">Î³</a><a id="11057" class="Symbol">}</a> <a id="11059" href="plfa.Adequacy.html#11059" class="Bound">vc</a> <a id="11062" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4361" class="InductiveConstructor">BotâŠ‘</a> <a id="11067" class="Symbol">=</a> <a id="11069" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a>
<a id="11072" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11078" class="Symbol">{</a><a id="11079" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11084" class="Symbol">(</a><a id="11085" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11087" href="plfa.Adequacy.html#11087" class="Bound">N</a><a id="11088" class="Symbol">)</a> <a id="11090" href="plfa.Adequacy.html#11090" class="Bound">Î³</a><a id="11091" class="Symbol">}</a> <a id="11093" href="plfa.Adequacy.html#11093" class="Bound">vc</a> <a id="11096" class="Symbol">(</a><a id="11097" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4385" class="InductiveConstructor">ConjLâŠ‘</a> <a id="11104" href="plfa.Adequacy.html#11104" class="Bound">lt1</a> <a id="11108" href="plfa.Adequacy.html#11108" class="Bound">lt2</a><a id="11111" class="Symbol">)</a> <a id="11113" class="Symbol">=</a> <a id="11115" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11117" class="Symbol">(</a><a id="11118" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11124" href="plfa.Adequacy.html#11093" class="Bound">vc</a> <a id="11127" href="plfa.Adequacy.html#11104" class="Bound">lt1</a><a id="11130" class="Symbol">)</a> <a id="11132" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11134" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11140" href="plfa.Adequacy.html#11093" class="Bound">vc</a> <a id="11143" href="plfa.Adequacy.html#11108" class="Bound">lt2</a> <a id="11147" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="11149" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11155" class="Symbol">{</a><a id="11156" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11161" class="Symbol">(</a><a id="11162" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11164" href="plfa.Adequacy.html#11164" class="Bound">N</a><a id="11165" class="Symbol">)</a> <a id="11167" href="plfa.Adequacy.html#11167" class="Bound">Î³</a><a id="11168" class="Symbol">}</a> <a id="11170" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11172" href="plfa.Adequacy.html#11172" class="Bound">vv1</a> <a id="11176" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11178" href="plfa.Adequacy.html#11178" class="Bound">vv2</a> <a id="11182" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11184" class="Symbol">(</a><a id="11185" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4475" class="InductiveConstructor">ConjR1âŠ‘</a> <a id="11193" href="plfa.Adequacy.html#11193" class="Bound">lt</a><a id="11195" class="Symbol">)</a> <a id="11197" class="Symbol">=</a> <a id="11199" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11205" href="plfa.Adequacy.html#11172" class="Bound">vv1</a> <a id="11209" href="plfa.Adequacy.html#11193" class="Bound">lt</a>
<a id="11212" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11218" class="Symbol">{</a><a id="11219" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11224" class="Symbol">(</a><a id="11225" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11227" href="plfa.Adequacy.html#11227" class="Bound">N</a><a id="11228" class="Symbol">)</a> <a id="11230" href="plfa.Adequacy.html#11230" class="Bound">Î³</a><a id="11231" class="Symbol">}</a> <a id="11233" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11235" href="plfa.Adequacy.html#11235" class="Bound">vv1</a> <a id="11239" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11241" href="plfa.Adequacy.html#11241" class="Bound">vv2</a> <a id="11245" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11247" class="Symbol">(</a><a id="11248" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4549" class="InductiveConstructor">ConjR2âŠ‘</a> <a id="11256" href="plfa.Adequacy.html#11256" class="Bound">lt</a><a id="11258" class="Symbol">)</a> <a id="11260" class="Symbol">=</a> <a id="11262" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11268" href="plfa.Adequacy.html#11241" class="Bound">vv2</a> <a id="11272" href="plfa.Adequacy.html#11256" class="Bound">lt</a>
<a id="11275" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11281" class="Symbol">{</a><a id="11282" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11287" class="Symbol">(</a><a id="11288" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11290" href="plfa.Adequacy.html#11290" class="Bound">N</a><a id="11291" class="Symbol">)</a> <a id="11293" href="plfa.Adequacy.html#11293" class="Bound">Î³</a><a id="11294" class="Symbol">}</a> <a id="11296" href="plfa.Adequacy.html#11296" class="Bound">vc</a> <a id="11299" class="Symbol">(</a><a id="11300" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4623" class="InductiveConstructor">TransâŠ‘</a><a id="11306" class="Symbol">{</a><a id="11307" class="Argument">v</a> <a id="11309" class="Symbol">=</a> <a id="11311" href="plfa.Adequacy.html#11311" class="Bound">vâ‚‚</a><a id="11313" class="Symbol">}</a> <a id="11315" href="plfa.Adequacy.html#11315" class="Bound">lt1</a> <a id="11319" href="plfa.Adequacy.html#11319" class="Bound">lt2</a><a id="11322" class="Symbol">)</a> <a id="11324" class="Symbol">=</a> <a id="11326" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11332" class="Symbol">(</a><a id="11333" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11339" href="plfa.Adequacy.html#11296" class="Bound">vc</a> <a id="11342" href="plfa.Adequacy.html#11319" class="Bound">lt2</a><a id="11345" class="Symbol">)</a> <a id="11347" href="plfa.Adequacy.html#11315" class="Bound">lt1</a>
<a id="11351" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11357" class="Symbol">{</a><a id="11358" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11363" class="Symbol">(</a><a id="11364" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11366" href="plfa.Adequacy.html#11366" class="Bound">N</a><a id="11367" class="Symbol">)</a> <a id="11369" href="plfa.Adequacy.html#11369" class="Bound">Î³</a><a id="11370" class="Symbol">}</a> <a id="11372" href="plfa.Adequacy.html#11372" class="Bound">vc</a> <a id="11375" class="Symbol">(</a><a id="11376" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4697" class="InductiveConstructor">FunâŠ‘</a> <a id="11381" href="plfa.Adequacy.html#11381" class="Bound">lt1</a> <a id="11385" href="plfa.Adequacy.html#11385" class="Bound">lt2</a><a id="11388" class="Symbol">)</a> <a id="11390" href="plfa.Adequacy.html#11390" class="Bound">ev1</a> <a id="11394" href="plfa.Adequacy.html#11394" class="Bound">sf</a>
    <a id="11401" class="Keyword">with</a> <a id="11406" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11372" class="Bound">vc</a> <a id="11409" class="Symbol">(</a><a id="11410" href="plfa.Adequacy.html#10735" class="Function">sub-ğ”¼</a> <a id="11416" href="plfa.Adequacy.html#11390" class="Bound">ev1</a> <a id="11420" href="plfa.Adequacy.html#11381" class="Bound">lt1</a><a id="11423" class="Symbol">)</a> <a id="11425" class="Symbol">(</a><a id="11426" href="plfa.Adequacy.html#4161" class="Function">AboveFun-âŠ‘</a> <a id="11437" href="plfa.Adequacy.html#11394" class="Bound">sf</a> <a id="11440" href="plfa.Adequacy.html#11385" class="Bound">lt2</a><a id="11443" class="Symbol">)</a>
<a id="11445" class="Symbol">...</a> <a id="11449" class="Symbol">|</a> <a id="11451" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11453" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11453" class="Bound">c</a> <a id="11455" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11457" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11459" href="plfa.Adequacy.html#11459" class="Bound">Nc</a> <a id="11462" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11464" href="plfa.Adequacy.html#11464" class="Bound">v4</a> <a id="11467" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11469" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11471" class="Symbol">=</a> <a id="11473" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11475" href="plfa.Adequacy.html#11453" class="Bound">c</a> <a id="11477" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11479" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11481" href="plfa.Adequacy.html#11459" class="Bound">Nc</a> <a id="11484" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11486" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="11492" href="plfa.Adequacy.html#11464" class="Bound">v4</a> <a id="11495" class="Bound">lt2</a> <a id="11499" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11501" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="11503" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11509" class="Symbol">{</a><a id="11510" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11515" class="Symbol">(</a><a id="11516" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="11518" href="plfa.Adequacy.html#11518" class="Bound">N</a><a id="11519" class="Symbol">)</a> <a id="11521" href="plfa.Adequacy.html#11521" class="Bound">Î³</a><a id="11522" class="Symbol">}</a> <a id="11524" class="Symbol">{</a><a id="11525" href="plfa.Adequacy.html#11525" class="Bound">v</a> <a id="11527" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="11529" href="plfa.Adequacy.html#11529" class="Bound">w</a> <a id="11531" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="11533" href="plfa.Adequacy.html#11525" class="Bound">v</a> <a id="11535" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">â†¦</a> <a id="11537" href="plfa.Adequacy.html#11537" class="Bound">w&#39;</a><a id="11539" class="Symbol">}</a> <a id="11541" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11543" href="plfa.Adequacy.html#11543" class="Bound">vcw</a> <a id="11547" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11549" href="plfa.Adequacy.html#11549" class="Bound">vcw&#39;</a> <a id="11554" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11556" href="plfa.Denotational.html#4811" class="InductiveConstructor">DistâŠ‘</a> <a id="11562" href="plfa.Adequacy.html#11562" class="Bound">ev1c</a> <a id="11567" href="plfa.Adequacy.html#11567" class="Bound">sf</a>
    <a id="11574" class="Keyword">with</a> <a id="11579" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="11589" href="plfa.Adequacy.html#11529" class="Bound">w</a> <a id="11591" class="Symbol">|</a> <a id="11593" href="plfa.Adequacy.html#6145" class="Function">AboveFun?</a> <a id="11603" href="plfa.Adequacy.html#11537" class="Bound">w&#39;</a>
<a id="11606" class="Symbol">...</a> <a id="11610" class="Symbol">|</a> <a id="11612" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="11616" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11616" class="Bound">af2</a> <a id="11620" class="Symbol">|</a> <a id="11622" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="11626" href="plfa.Adequacy.html#11626" class="Bound">af3</a>
    <a id="11634" class="Keyword">with</a> <a id="11639" class="Bound">vcw</a> <a id="11643" class="Bound">ev1c</a> <a id="11648" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11616" class="Bound">af2</a> <a id="11652" class="Symbol">|</a> <a id="11654" class="Bound">vcw&#39;</a> <a id="11659" class="Bound">ev1c</a> <a id="11664" href="plfa.Adequacy.html#11626" class="Bound">af3</a>
<a id="11668" class="Symbol">...</a> <a id="11672" class="Symbol">|</a> <a id="11674" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11676" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11681" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11681" class="Bound">L</a> <a id="11683" href="plfa.Adequacy.html#11683" class="Bound">Î´</a> <a id="11685" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11687" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11689" href="plfa.Adequacy.html#11689" class="Bound">Lâ‡“câ‚‚</a> <a id="11694" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11696" href="plfa.Adequacy.html#11696" class="Bound">ğ•w</a> <a id="11699" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11701" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="11707" class="Symbol">|</a> <a id="11709" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11711" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11711" class="Bound">câ‚ƒ</a> <a id="11714" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11716" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11718" href="plfa.Adequacy.html#11718" class="Bound">Lâ‡“câ‚ƒ</a> <a id="11723" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11725" href="plfa.Adequacy.html#11725" class="Bound">ğ•w&#39;</a> <a id="11729" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11731" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11733" class="Keyword">rewrite</a> <a id="11741" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4621" class="Function">â‡“-determ</a> <a id="11750" href="plfa.Adequacy.html#11718" class="Bound">Lâ‡“câ‚ƒ</a> <a id="11755" href="plfa.Adequacy.html#11689" class="Bound">Lâ‡“câ‚‚</a> <a id="11760" class="Keyword">with</a> <a id="11765" href="plfa.Adequacy.html#9294" class="Function">ğ•â†’WHNF</a> <a id="11772" href="plfa.Adequacy.html#11696" class="Bound">ğ•w</a>
<a id="11775" class="Symbol">...</a> <a id="11779" class="Symbol">|</a> <a id="11781" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="11784" class="Symbol">=</a>
      <a id="11792" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11794" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11799" class="Bound">L</a> <a id="11801" class="Bound">Î´</a> <a id="11803" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11805" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11807" class="Bound">Lâ‡“câ‚‚</a> <a id="11812" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11814" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11816" class="Bound">ğ•w</a> <a id="11819" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11821" class="Bound">ğ•w&#39;</a> <a id="11825" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11827" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11829" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="11831" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="11837" class="Symbol">{</a><a id="11838" href="plfa.Adequacy.html#11838" class="Bound">c</a><a id="11839" class="Symbol">}</a> <a id="11841" class="Symbol">{</a><a id="11842" href="plfa.Adequacy.html#11842" class="Bound">v</a> <a id="11844" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="11846" href="plfa.Adequacy.html#11846" class="Bound">w</a> <a id="11848" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="11850" href="plfa.Adequacy.html#11842" class="Bound">v</a> <a id="11852" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">â†¦</a> <a id="11854" href="plfa.Adequacy.html#11854" class="Bound">w&#39;</a><a id="11856" class="Symbol">}</a> <a id="11858" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11860" href="plfa.Adequacy.html#11860" class="Bound">vcw</a> <a id="11864" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11866" href="plfa.Adequacy.html#11866" class="Bound">vcw&#39;</a> <a id="11871" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>  <a id="11874" href="plfa.Denotational.html#4811" class="InductiveConstructor">DistâŠ‘</a> <a id="11880" href="plfa.Adequacy.html#11880" class="Bound">ev1c</a> <a id="11885" href="plfa.Adequacy.html#11885" class="Bound">sf</a>
    <a id="11892" class="Symbol">|</a> <a id="11894" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="11898" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11898" class="Bound">af2</a> <a id="11902" class="Symbol">|</a> <a id="11904" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="11907" href="plfa.Adequacy.html#11907" class="Bound">naf3</a>
    <a id="11916" class="Keyword">with</a> <a id="11921" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11860" class="Bound">vcw</a> <a id="11925" href="plfa.Adequacy.html#11880" class="Bound">ev1c</a> <a id="11930" href="plfa.Adequacy.html#11898" class="Bound">af2</a>
<a id="11934" class="Symbol">...</a> <a id="11938" class="Symbol">|</a> <a id="11940" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11942" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="11947" class="Symbol">{</a><a id="11948" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11948" class="Bound">Î“&#39;</a><a id="11950" class="Symbol">}</a> <a id="11952" href="plfa.Adequacy.html#11952" class="Bound">L</a> <a id="11954" href="plfa.Adequacy.html#11954" class="Bound">Î³â‚</a> <a id="11957" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11959" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="11961" href="plfa.Adequacy.html#11961" class="Bound">Lâ‡“c2</a> <a id="11966" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11968" href="plfa.Adequacy.html#11968" class="Bound">ğ•w</a> <a id="11971" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="11973" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="11979" class="Keyword">with</a> <a id="11984" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="11991" href="plfa.Adequacy.html#11968" class="Bound">ğ•w</a>
<a id="11994" class="Symbol">...</a> <a id="11998" class="Symbol">|</a> <a id="12000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="12003" class="Symbol">{</a><a id="12004" class="Argument">N</a> <a id="12006" class="Symbol">=</a> <a id="12008" href="plfa.Adequacy.html#12008" class="Bound">N&#39;</a><a id="12010" class="Symbol">}</a> <a id="12012" class="Symbol">=</a>
      <a id="12020" class="Keyword">let</a> <a id="12024" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12024" class="Bound">ğ•w&#39;</a> <a id="12028" class="Symbol">=</a> <a id="12030" href="plfa.Adequacy.html#10256" class="Function">not-AboveFun-ğ•</a><a id="12044" class="Symbol">{</a><a id="12045" class="Bound">w&#39;</a><a id="12047" class="Symbol">}{</a><a id="12049" class="Bound">Î“&#39;</a><a id="12051" class="Symbol">}{</a><a id="12053" class="Bound">Î³â‚</a><a id="12055" class="Symbol">}{</a><a id="12057" href="plfa.Adequacy.html#12008" class="Bound">N&#39;</a><a id="12059" class="Symbol">}</a> <a id="12061" class="Bound">naf3</a> <a id="12066" class="Keyword">in</a>
      <a id="12075" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12077" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="12082" class="Symbol">(</a><a id="12083" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="12085" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12008" class="Bound">N&#39;</a><a id="12087" class="Symbol">)</a> <a id="12089" class="Bound">Î³â‚</a> <a id="12092" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12094" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12096" class="Bound">Lâ‡“c2</a> <a id="12101" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12103" href="plfa.Adequacy.html#9607" class="Function">ğ•âŠ”-intro</a> <a id="12112" class="Bound">ğ•w</a> <a id="12115" href="plfa.Adequacy.html#12024" class="Bound">ğ•w&#39;</a> <a id="12119" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12121" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="12123" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="12129" class="Symbol">{</a><a id="12130" href="plfa.Adequacy.html#12130" class="Bound">c</a><a id="12131" class="Symbol">}</a> <a id="12133" class="Symbol">{</a><a id="12134" href="plfa.Adequacy.html#12134" class="Bound">v</a> <a id="12136" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="12138" href="plfa.Adequacy.html#12138" class="Bound">w</a> <a id="12140" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="12142" href="plfa.Adequacy.html#12134" class="Bound">v</a> <a id="12144" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">â†¦</a> <a id="12146" href="plfa.Adequacy.html#12146" class="Bound">w&#39;</a><a id="12148" class="Symbol">}</a> <a id="12150" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12152" href="plfa.Adequacy.html#12152" class="Bound">vcw</a> <a id="12156" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12158" href="plfa.Adequacy.html#12158" class="Bound">vcw&#39;</a> <a id="12163" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12165" href="plfa.Denotational.html#4811" class="InductiveConstructor">DistâŠ‘</a> <a id="12171" href="plfa.Adequacy.html#12171" class="Bound">ev1c</a> <a id="12176" href="plfa.Adequacy.html#12176" class="Bound">sf</a>
    <a id="12183" class="Symbol">|</a> <a id="12185" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="12188" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12188" class="Bound">naf2</a> <a id="12193" class="Symbol">|</a> <a id="12195" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="12199" href="plfa.Adequacy.html#12199" class="Bound">af3</a>
    <a id="12207" class="Keyword">with</a> <a id="12212" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12158" class="Bound">vcw&#39;</a> <a id="12217" href="plfa.Adequacy.html#12171" class="Bound">ev1c</a> <a id="12222" href="plfa.Adequacy.html#12199" class="Bound">af3</a>
<a id="12226" class="Symbol">...</a> <a id="12230" class="Symbol">|</a> <a id="12232" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12234" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="12239" class="Symbol">{</a><a id="12240" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12240" class="Bound">Î“&#39;</a><a id="12242" class="Symbol">}</a> <a id="12244" href="plfa.Adequacy.html#12244" class="Bound">L</a> <a id="12246" href="plfa.Adequacy.html#12246" class="Bound">Î³â‚</a> <a id="12249" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12251" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12253" href="plfa.Adequacy.html#12253" class="Bound">Lâ‡“c3</a> <a id="12258" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12260" href="plfa.Adequacy.html#12260" class="Bound">ğ•w&#39;c</a> <a id="12265" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12267" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="12273" class="Keyword">with</a> <a id="12278" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="12285" href="plfa.Adequacy.html#12260" class="Bound">ğ•w&#39;c</a>
<a id="12290" class="Symbol">...</a> <a id="12294" class="Symbol">|</a> <a id="12296" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="12299" class="Symbol">{</a><a id="12300" class="Argument">N</a> <a id="12302" class="Symbol">=</a> <a id="12304" href="plfa.Adequacy.html#12304" class="Bound">N&#39;</a><a id="12306" class="Symbol">}</a> <a id="12308" class="Symbol">=</a>
      <a id="12316" class="Keyword">let</a> <a id="12320" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12320" class="Bound">ğ•wc</a> <a id="12324" class="Symbol">=</a> <a id="12326" href="plfa.Adequacy.html#10256" class="Function">not-AboveFun-ğ•</a><a id="12340" class="Symbol">{</a><a id="12341" class="Bound">w</a><a id="12342" class="Symbol">}{</a><a id="12344" class="Bound">Î“&#39;</a><a id="12346" class="Symbol">}{</a><a id="12348" class="Bound">Î³â‚</a><a id="12350" class="Symbol">}{</a><a id="12352" href="plfa.Adequacy.html#12304" class="Bound">N&#39;</a><a id="12354" class="Symbol">}</a> <a id="12356" class="Bound">naf2</a> <a id="12361" class="Keyword">in</a>
      <a id="12370" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12372" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="12377" class="Symbol">(</a><a id="12378" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="12380" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12304" class="Bound">N&#39;</a><a id="12382" class="Symbol">)</a> <a id="12384" class="Bound">Î³â‚</a> <a id="12387" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12389" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12391" class="Bound">Lâ‡“c3</a> <a id="12396" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12398" href="plfa.Adequacy.html#9607" class="Function">ğ•âŠ”-intro</a> <a id="12407" href="plfa.Adequacy.html#12320" class="Bound">ğ•wc</a> <a id="12411" class="Bound">ğ•w&#39;c</a> <a id="12416" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12418" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="12420" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10683" class="Function">sub-ğ•</a> <a id="12426" class="Symbol">{</a><a id="12427" href="plfa.Adequacy.html#12427" class="Bound">c</a><a id="12428" class="Symbol">}</a> <a id="12430" class="Symbol">{</a><a id="12431" href="plfa.Adequacy.html#12431" class="Bound">v</a> <a id="12433" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4003" class="InductiveConstructor Operator">â†¦</a> <a id="12435" href="plfa.Adequacy.html#12435" class="Bound">w</a> <a id="12437" href="plfa.Denotational.html#4033" class="InductiveConstructor Operator">âŠ”</a> <a id="12439" href="plfa.Adequacy.html#12431" class="Bound">v</a> <a id="12441" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">â†¦</a> <a id="12443" href="plfa.Adequacy.html#12443" class="Bound">w&#39;</a><a id="12445" class="Symbol">}</a> <a id="12447" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12449" href="plfa.Adequacy.html#12449" class="Bound">vcw</a> <a id="12453" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12455" href="plfa.Adequacy.html#12455" class="Bound">vcw&#39;</a> <a id="12460" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12462" href="plfa.Denotational.html#4811" class="InductiveConstructor">DistâŠ‘</a> <a id="12468" href="plfa.Adequacy.html#12468" class="Bound">ev1c</a> <a id="12473" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12475" href="plfa.Adequacy.html#12475" class="Bound">v&#39;</a> <a id="12478" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12480" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12482" href="plfa.Adequacy.html#12482" class="Bound">w&#39;&#39;</a> <a id="12486" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12488" href="plfa.Adequacy.html#12488" class="Bound">lt</a> <a id="12491" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12493" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="12499" class="Symbol">|</a> <a id="12501" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="12504" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12504" class="Bound">naf2</a> <a id="12509" class="Symbol">|</a> <a id="12511" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="12514" href="plfa.Adequacy.html#12514" class="Bound">naf3</a>
    <a id="12523" class="Keyword">with</a> <a id="12528" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4695" class="Function">AboveFun-âŠ”</a> <a id="12539" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12541" href="plfa.Adequacy.html#12475" class="Bound">v&#39;</a> <a id="12544" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12546" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="12548" href="plfa.Adequacy.html#12482" class="Bound">w&#39;&#39;</a> <a id="12552" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12554" href="plfa.Adequacy.html#12488" class="Bound">lt</a> <a id="12557" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="12559" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="12561" class="Symbol">...</a> <a id="12565" class="Symbol">|</a> <a id="12567" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">injâ‚</a> <a id="12572" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12572" class="Bound">af2</a> <a id="12576" class="Symbol">=</a> <a id="12578" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a> <a id="12585" class="Symbol">(</a><a id="12586" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="12600" href="plfa.Adequacy.html#12572" class="Bound">af2</a> <a id="12604" class="Bound">naf2</a><a id="12608" class="Symbol">)</a>
<a id="12610" class="Symbol">...</a> <a id="12614" class="Symbol">|</a> <a id="12616" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">injâ‚‚</a> <a id="12621" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12621" class="Bound">af3</a> <a id="12625" class="Symbol">=</a> <a id="12627" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a> <a id="12634" class="Symbol">(</a><a id="12635" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="12649" href="plfa.Adequacy.html#12621" class="Bound">af3</a> <a id="12653" class="Bound">naf3</a><a id="12657" class="Symbol">)</a>
</pre>{% endraw %}
* Case `BotâŠ‘`. We immediately have `ğ• âŠ¥ (clos (Æ› N) Î³)`.

* Case `ConjLâŠ‘`.

        vâ‚' âŠ‘ v     vâ‚‚' âŠ‘ v
        -------------------
        (vâ‚' âŠ” vâ‚‚') âŠ‘ v

  The induction hypotheses gives us `ğ• vâ‚' (clos (Æ› N) Î³)`
  and `ğ• vâ‚‚' (clos (Æ› N) Î³)`, which is all we need for this case.

* Case `ConjR1âŠ‘`.

        v' âŠ‘ vâ‚
        -------------
        v' âŠ‘ (vâ‚ âŠ” vâ‚‚)

  The induction hypothesis gives us `ğ• v' (clos (Æ› N) Î³)`.

* Case `ConjR2âŠ‘`.

        v' âŠ‘ vâ‚‚
        -------------
        v' âŠ‘ (vâ‚ âŠ” vâ‚‚)

  Again, the induction hypothesis gives us `ğ• v' (clos (Æ› N) Î³)`.

* Case `TransâŠ‘`.

        v' âŠ‘ vâ‚‚   vâ‚‚ âŠ‘ v
        -----------------
             v' âŠ‘ v

  The induction hypothesis for `vâ‚‚ âŠ‘ v` gives us
  `ğ• vâ‚‚ (clos (Æ› N) Î³)`. We apply the induction hypothesis
  for `v' âŠ‘ vâ‚‚` to conclude that `ğ• v' (clos (Æ› N) Î³)`.

* Case `DistâŠ‘`. This case  is the most difficult. We have

        ğ• (v â†¦ w) (clos (Æ› N) Î³)
        ğ• (v â†¦ w') (clos (Æ› N) Î³)

  and need to show that

        ğ• (v â†¦ (w âŠ” w')) (clos (Æ› N) Î³)

  Let `c` be an arbtrary closure such that `ğ”¼ v c`.
  Assume `w âŠ” w'` is greater than a function.
  Unfortunately, this does not mean that both `w` and `w'`
  are above functions. But thanks to the lemma `AboveFun-âŠ”`,
  we know that at least one of them is greater than a function.

  * Suppose both of them are greater than a function.  Then we have
    `Î³ âŠ¢ N â‡“ clos L Î´` and `ğ• w (clos L Î´)`.  We also have `Î³ âŠ¢ N â‡“ câ‚ƒ` and
    `ğ• w' câ‚ƒ`.  Because the big-step semantics is deterministic, we have
    `câ‚ƒ â‰¡ clos L Î´`. Also, from `ğ• w (clos L Î´)` we know that `L â‰¡ Æ› N'`
    for some `N'`. We conclude that `ğ• (w âŠ” w') (clos (Æ› N') Î´)`.

  * Suppose one of them is greater than a function and the other is
    not: say `AboveFun w` and `Â¬ AboveFun w'`. Then from
    `ğ• (v â†¦ w) (clos (Æ› N) Î³)`
    we have `Î³ âŠ¢ N â‡“ clos L Î³â‚` and `ğ• w (clos L Î³â‚)`. From this we have
    `L â‰¡ Æ› N'` for some `N'`. Meanwhile, from `Â¬ AboveFun w'` we have
    `ğ• w' (clos L Î³â‚)`. We conclude that
    `ğ• (w âŠ” w') (clos (Æ› N') Î³â‚)`.


The proof of `sub-ğ”¼` is direct and explained below.

{% raw %}<pre class="Agda"><a id="14758" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10735" class="Function">sub-ğ”¼</a> <a id="14764" class="Symbol">{</a><a id="14765" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="14770" href="plfa.Adequacy.html#14770" class="Bound">M</a> <a id="14772" href="plfa.Adequacy.html#14772" class="Bound">Î³</a><a id="14773" class="Symbol">}</a> <a id="14775" class="Symbol">{</a><a id="14776" href="plfa.Adequacy.html#14776" class="Bound">v</a><a id="14777" class="Symbol">}</a> <a id="14779" class="Symbol">{</a><a id="14780" href="plfa.Adequacy.html#14780" class="Bound">v&#39;</a><a id="14782" class="Symbol">}</a> <a id="14784" href="plfa.Adequacy.html#14784" class="Bound">ğ”¼v</a> <a id="14787" href="plfa.Adequacy.html#14787" class="Bound">v&#39;âŠ‘v</a> <a id="14792" href="plfa.Adequacy.html#14792" class="Bound">fv&#39;</a>
    <a id="14800" class="Keyword">with</a> <a id="14805" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#14784" class="Bound">ğ”¼v</a> <a id="14808" class="Symbol">(</a><a id="14809" href="plfa.Adequacy.html#4161" class="Function">AboveFun-âŠ‘</a> <a id="14820" href="plfa.Adequacy.html#14792" class="Bound">fv&#39;</a> <a id="14824" href="plfa.Adequacy.html#14787" class="Bound">v&#39;âŠ‘v</a><a id="14828" class="Symbol">)</a>
<a id="14830" class="Symbol">...</a> <a id="14834" class="Symbol">|</a> <a id="14836" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="14838" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#14838" class="Bound">c</a> <a id="14840" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14842" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="14844" href="plfa.Adequacy.html#14844" class="Bound">Mâ‡“c</a> <a id="14848" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14850" href="plfa.Adequacy.html#14850" class="Bound">ğ•v</a> <a id="14853" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="14855" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="14857" class="Symbol">=</a>
      <a id="14865" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="14867" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#14838" class="Bound">c</a> <a id="14869" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14871" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="14873" href="plfa.Adequacy.html#14844" class="Bound">Mâ‡“c</a> <a id="14877" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14879" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="14885" href="plfa.Adequacy.html#14850" class="Bound">ğ•v</a> <a id="14888" class="Bound">v&#39;âŠ‘v</a> <a id="14893" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="14895" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}
From `AboveFun v'` and `v' âŠ‘ v` we have `AboveFun v`.  Then with `ğ”¼ v c` we
obtain a closure `c` such that `Î³ âŠ¢ M â‡“ c` and `ğ• v c`. We conclude with an
application of `sub-ğ•` with `v' âŠ‘ v` to show `ğ• v' c`.


## Programs with function denotation terminate via call-by-name

The main lemma proves that if a term has a denotation that is above a
function, then it terminates via call-by-name. More formally, if
`Î³ âŠ¢ M â†“ v` and `ğ”¾ Î³ Î³'`, then `ğ”¼ v (clos M Î³')`. The proof is by
induction on the derivation of `Î³ âŠ¢ M â†“ v` we discuss each case below.

The following lemma, kth-x, is used in the case for the `var` rule.

{% raw %}<pre class="Agda"><a id="kth-x"></a><a id="15522" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15522" class="Function">kth-x</a> <a id="15528" class="Symbol">:</a> <a id="15530" class="Symbol">âˆ€{</a><a id="15532" href="plfa.Adequacy.html#15532" class="Bound">Î“</a><a id="15533" class="Symbol">}{</a><a id="15535" href="plfa.Adequacy.html#15535" class="Bound">Î³&#39;</a> <a id="15538" class="Symbol">:</a> <a id="15540" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="15548" href="plfa.Adequacy.html#15532" class="Bound">Î“</a><a id="15549" class="Symbol">}{</a><a id="15551" href="plfa.Adequacy.html#15551" class="Bound">x</a> <a id="15553" class="Symbol">:</a> <a id="15555" href="plfa.Adequacy.html#15532" class="Bound">Î“</a> <a id="15557" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3483" class="Datatype Operator">âˆ‹</a> <a id="15559" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="15560" class="Symbol">}</a>
     <a id="15567" class="Symbol">â†’</a> <a id="15569" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="15572" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15572" class="Bound">Î”</a> <a id="15574" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="15576" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="15584" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="15586" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="15589" href="plfa.Adequacy.html#15589" class="Bound">Î´</a> <a id="15591" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="15593" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="15601" href="plfa.Adequacy.html#15572" class="Bound">Î”</a> <a id="15603" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="15605" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="15608" href="plfa.Adequacy.html#15608" class="Bound">M</a> <a id="15610" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="15612" href="plfa.Adequacy.html#15572" class="Bound">Î”</a> <a id="15614" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="15616" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="15618" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
                 <a id="15637" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15535" class="Bound">Î³&#39;</a> <a id="15640" href="plfa.Adequacy.html#15551" class="Bound">x</a> <a id="15642" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">â‰¡</a> <a id="15644" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="15649" href="plfa.Adequacy.html#15608" class="Bound">M</a> <a id="15651" href="plfa.Adequacy.html#15589" class="Bound">Î´</a>
<a id="15653" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15522" class="Function">kth-x</a><a id="15658" class="Symbol">{</a><a id="15659" class="Argument">Î³&#39;</a> <a id="15662" class="Symbol">=</a> <a id="15664" href="plfa.Adequacy.html#15664" class="Bound">Î³&#39;</a><a id="15666" class="Symbol">}{</a><a id="15668" class="Argument">x</a> <a id="15670" class="Symbol">=</a> <a id="15672" href="plfa.Adequacy.html#15672" class="Bound">x</a><a id="15673" class="Symbol">}</a> <a id="15675" class="Keyword">with</a> <a id="15680" href="plfa.Adequacy.html#15664" class="Bound">Î³&#39;</a> <a id="15683" href="plfa.Adequacy.html#15672" class="Bound">x</a>
<a id="15685" class="Symbol">...</a> <a id="15689" class="Symbol">|</a> <a id="15691" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a><a id="15695" class="Symbol">{</a><a id="15696" class="Argument">Î“</a> <a id="15698" class="Symbol">=</a> <a id="15700" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15700" class="Bound">Î”</a><a id="15701" class="Symbol">}</a> <a id="15703" href="plfa.Adequacy.html#15703" class="Bound">M</a> <a id="15705" href="plfa.Adequacy.html#15705" class="Bound">Î´</a> <a id="15707" class="Symbol">=</a> <a id="15709" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="15711" href="plfa.Adequacy.html#15700" class="Bound">Î”</a> <a id="15713" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15715" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="15717" href="plfa.Adequacy.html#15705" class="Bound">Î´</a> <a id="15719" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15721" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="15723" href="plfa.Adequacy.html#15703" class="Bound">M</a> <a id="15725" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15727" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="15732" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="15734" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="15736" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}
{% raw %}<pre class="Agda"><a id="â†“â†’ğ”¼"></a><a id="15747" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="15751" class="Symbol">:</a> <a id="15753" class="Symbol">âˆ€{</a><a id="15755" href="plfa.Adequacy.html#15755" class="Bound">Î“</a><a id="15756" class="Symbol">}{</a><a id="15758" href="plfa.Adequacy.html#15758" class="Bound">Î³</a> <a id="15760" class="Symbol">:</a> <a id="15762" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7109" class="Function">Env</a> <a id="15766" href="plfa.Adequacy.html#15755" class="Bound">Î“</a><a id="15767" class="Symbol">}{</a><a id="15769" href="plfa.Adequacy.html#15769" class="Bound">Î³&#39;</a> <a id="15772" class="Symbol">:</a> <a id="15774" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="15782" href="plfa.Adequacy.html#15755" class="Bound">Î“</a><a id="15783" class="Symbol">}{</a><a id="15785" href="plfa.Adequacy.html#15785" class="Bound">M</a> <a id="15787" class="Symbol">:</a> <a id="15789" href="plfa.Adequacy.html#15755" class="Bound">Î“</a> <a id="15791" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4252" class="Datatype Operator">âŠ¢</a> <a id="15793" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="15795" class="Symbol">}{</a><a id="15797" href="plfa.Adequacy.html#15797" class="Bound">v</a><a id="15798" class="Symbol">}</a>
            <a id="15812" class="Symbol">â†’</a> <a id="15814" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8709" class="Function">ğ”¾</a> <a id="15816" href="plfa.Adequacy.html#15758" class="Bound">Î³</a> <a id="15818" href="plfa.Adequacy.html#15769" class="Bound">Î³&#39;</a> <a id="15821" class="Symbol">â†’</a> <a id="15823" href="plfa.Adequacy.html#15758" class="Bound">Î³</a> <a id="15825" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9283" class="Datatype Operator">âŠ¢</a> <a id="15827" href="plfa.Adequacy.html#15785" class="Bound">M</a> <a id="15829" href="plfa.Denotational.html#9283" class="Datatype Operator">â†“</a> <a id="15831" href="plfa.Adequacy.html#15797" class="Bound">v</a> <a id="15833" class="Symbol">â†’</a> <a id="15835" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="15837" href="plfa.Adequacy.html#15797" class="Bound">v</a> <a id="15839" class="Symbol">(</a><a id="15840" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="15845" href="plfa.Adequacy.html#15785" class="Bound">M</a> <a id="15847" href="plfa.Adequacy.html#15769" class="Bound">Î³&#39;</a><a id="15849" class="Symbol">)</a>
<a id="15851" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="15855" class="Symbol">{</a><a id="15856" href="plfa.Adequacy.html#15856" class="Bound">Î“</a><a id="15857" class="Symbol">}</a> <a id="15859" class="Symbol">{</a><a id="15860" href="plfa.Adequacy.html#15860" class="Bound">Î³</a><a id="15861" class="Symbol">}</a> <a id="15863" class="Symbol">{</a><a id="15864" href="plfa.Adequacy.html#15864" class="Bound">Î³&#39;</a><a id="15866" class="Symbol">}</a> <a id="15868" href="plfa.Adequacy.html#15868" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="15873" class="Symbol">(</a><a id="15874" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9337" class="InductiveConstructor">var</a><a id="15877" class="Symbol">{</a><a id="15878" class="Argument">x</a> <a id="15880" class="Symbol">=</a> <a id="15882" href="plfa.Adequacy.html#15882" class="Bound">x</a><a id="15883" class="Symbol">})</a> <a id="15886" href="plfa.Adequacy.html#15886" class="Bound">fÎ³x</a>
    <a id="15894" class="Keyword">with</a> <a id="15899" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15522" class="Function">kth-x</a><a id="15904" class="Symbol">{</a><a id="15905" href="plfa.Adequacy.html#15856" class="Bound">Î“</a><a id="15906" class="Symbol">}{</a><a id="15908" href="plfa.Adequacy.html#15864" class="Bound">Î³&#39;</a><a id="15910" class="Symbol">}{</a><a id="15912" href="plfa.Adequacy.html#15882" class="Bound">x</a><a id="15913" class="Symbol">}</a> <a id="15915" class="Symbol">|</a> <a id="15917" href="plfa.Adequacy.html#15868" class="Bound">ğ”¾Î³Î³&#39;</a><a id="15921" class="Symbol">{</a><a id="15922" class="Argument">x</a> <a id="15924" class="Symbol">=</a> <a id="15926" href="plfa.Adequacy.html#15882" class="Bound">x</a><a id="15927" class="Symbol">}</a>
<a id="15929" class="Symbol">...</a> <a id="15933" class="Symbol">|</a> <a id="15935" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="15937" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15937" class="Bound">Î”</a> <a id="15939" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15941" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="15943" href="plfa.Adequacy.html#15943" class="Bound">Î´</a> <a id="15945" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15947" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="15949" href="plfa.Adequacy.html#15949" class="Bound">M&#39;</a> <a id="15952" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15954" href="plfa.Adequacy.html#15954" class="Bound">eq</a> <a id="15957" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="15959" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="15961" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="15963" class="Symbol">|</a> <a id="15965" href="plfa.Adequacy.html#15965" class="Bound">ğ”¾Î³Î³&#39;x</a> <a id="15971" class="Keyword">rewrite</a> <a id="15979" href="plfa.Adequacy.html#15954" class="Bound">eq</a>
    <a id="15986" class="Keyword">with</a> <a id="15991" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15965" class="Bound">ğ”¾Î³Î³&#39;x</a> <a id="15997" class="Bound">fÎ³x</a>
<a id="16001" class="Symbol">...</a> <a id="16005" class="Symbol">|</a> <a id="16007" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16009" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16009" class="Bound">c</a> <a id="16011" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16013" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16015" href="plfa.Adequacy.html#16015" class="Bound">M&#39;â‡“c</a> <a id="16020" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16022" href="plfa.Adequacy.html#16022" class="Bound">ğ•Î³x</a> <a id="16026" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16028" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16030" class="Symbol">=</a>
      <a id="16038" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16040" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16009" class="Bound">c</a> <a id="16042" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16044" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16046" class="Symbol">(</a><a id="16047" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3095" class="InductiveConstructor">â‡“-var</a> <a id="16053" class="Bound">eq</a> <a id="16056" href="plfa.Adequacy.html#16015" class="Bound">M&#39;â‡“c</a><a id="16060" class="Symbol">)</a> <a id="16062" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16064" href="plfa.Adequacy.html#16022" class="Bound">ğ•Î³x</a> <a id="16068" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16070" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="16072" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16076" class="Symbol">{</a><a id="16077" href="plfa.Adequacy.html#16077" class="Bound">Î“</a><a id="16078" class="Symbol">}</a> <a id="16080" class="Symbol">{</a><a id="16081" href="plfa.Adequacy.html#16081" class="Bound">Î³</a><a id="16082" class="Symbol">}</a> <a id="16084" class="Symbol">{</a><a id="16085" href="plfa.Adequacy.html#16085" class="Bound">Î³&#39;</a><a id="16087" class="Symbol">}</a> <a id="16089" href="plfa.Adequacy.html#16089" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16094" class="Symbol">(</a><a id="16095" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9416" class="InductiveConstructor">â†¦-elim</a><a id="16101" class="Symbol">{</a><a id="16102" class="Argument">L</a> <a id="16104" class="Symbol">=</a> <a id="16106" href="plfa.Adequacy.html#16106" class="Bound">L</a><a id="16107" class="Symbol">}{</a><a id="16109" class="Argument">M</a> <a id="16111" class="Symbol">=</a> <a id="16113" href="plfa.Adequacy.html#16113" class="Bound">M</a><a id="16114" class="Symbol">}{</a><a id="16116" class="Argument">v</a> <a id="16118" class="Symbol">=</a> <a id="16120" href="plfa.Adequacy.html#16120" class="Bound">vâ‚</a><a id="16122" class="Symbol">}{</a><a id="16124" class="Argument">w</a> <a id="16126" class="Symbol">=</a> <a id="16128" href="plfa.Adequacy.html#16128" class="Bound">v</a><a id="16129" class="Symbol">}</a> <a id="16131" href="plfa.Adequacy.html#16131" class="Bound">dâ‚</a> <a id="16134" href="plfa.Adequacy.html#16134" class="Bound">dâ‚‚</a><a id="16136" class="Symbol">)</a> <a id="16138" href="plfa.Adequacy.html#16138" class="Bound">fv</a>
    <a id="16145" class="Keyword">with</a> <a id="16150" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16154" href="plfa.Adequacy.html#16089" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16159" href="plfa.Adequacy.html#16131" class="Bound">dâ‚</a> <a id="16162" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16164" href="plfa.Adequacy.html#16120" class="Bound">vâ‚</a> <a id="16167" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16169" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16171" href="plfa.Adequacy.html#16128" class="Bound">v</a> <a id="16173" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16175" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#5480" class="Function">ReflâŠ‘</a> <a id="16181" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16183" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="16185" class="Symbol">...</a> <a id="16189" class="Symbol">|</a> <a id="16191" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16193" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="16198" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16198" class="Bound">L&#39;</a> <a id="16201" href="plfa.Adequacy.html#16201" class="Bound">Î´</a> <a id="16203" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16205" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16207" href="plfa.Adequacy.html#16207" class="Bound">Lâ‡“L&#39;</a> <a id="16212" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16214" href="plfa.Adequacy.html#16214" class="Bound">ğ•vâ‚â†¦v</a> <a id="16220" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16222" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="16228" class="Keyword">with</a> <a id="16233" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="16240" href="plfa.Adequacy.html#16214" class="Bound">ğ•vâ‚â†¦v</a>
<a id="16246" class="Symbol">...</a> <a id="16250" class="Symbol">|</a> <a id="16252" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="16255" class="Symbol">{</a><a id="16256" class="Argument">N</a> <a id="16258" class="Symbol">=</a> <a id="16260" href="plfa.Adequacy.html#16260" class="Bound">N</a><a id="16261" class="Symbol">}</a>
    <a id="16267" class="Keyword">with</a> <a id="16272" class="Bound">ğ•vâ‚â†¦v</a> <a id="16278" class="Symbol">{</a><a id="16279" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="16284" class="Bound">M</a> <a id="16286" class="Bound">Î³&#39;</a><a id="16288" class="Symbol">}</a> <a id="16290" class="Symbol">(</a><a id="16291" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16295" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16300" class="Bound">dâ‚‚</a><a id="16302" class="Symbol">)</a> <a id="16304" class="Bound">fv</a>
<a id="16307" class="Symbol">...</a> <a id="16311" class="Symbol">|</a> <a id="16313" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16315" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16315" class="Bound">c&#39;</a> <a id="16318" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16320" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16322" href="plfa.Adequacy.html#16322" class="Bound">Nâ‡“c&#39;</a> <a id="16327" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16329" href="plfa.Adequacy.html#16329" class="Bound">ğ•v</a> <a id="16332" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16334" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16336" class="Symbol">=</a>
    <a id="16342" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16344" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16315" class="Bound">c&#39;</a> <a id="16347" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16349" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16351" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3337" class="InductiveConstructor">â‡“-app</a> <a id="16357" class="Bound">Lâ‡“L&#39;</a> <a id="16362" href="plfa.Adequacy.html#16322" class="Bound">Nâ‡“c&#39;</a> <a id="16367" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16369" href="plfa.Adequacy.html#16329" class="Bound">ğ•v</a> <a id="16372" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16374" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="16376" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16380" class="Symbol">{</a><a id="16381" href="plfa.Adequacy.html#16381" class="Bound">Î“</a><a id="16382" class="Symbol">}</a> <a id="16384" class="Symbol">{</a><a id="16385" href="plfa.Adequacy.html#16385" class="Bound">Î³</a><a id="16386" class="Symbol">}</a> <a id="16388" class="Symbol">{</a><a id="16389" href="plfa.Adequacy.html#16389" class="Bound">Î³&#39;</a><a id="16391" class="Symbol">}</a> <a id="16393" href="plfa.Adequacy.html#16393" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16398" class="Symbol">(</a><a id="16399" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9554" class="InductiveConstructor">â†¦-intro</a><a id="16406" class="Symbol">{</a><a id="16407" class="Argument">N</a> <a id="16409" class="Symbol">=</a> <a id="16411" href="plfa.Adequacy.html#16411" class="Bound">N</a><a id="16412" class="Symbol">}{</a><a id="16414" class="Argument">v</a> <a id="16416" class="Symbol">=</a> <a id="16418" href="plfa.Adequacy.html#16418" class="Bound">v</a><a id="16419" class="Symbol">}{</a><a id="16421" class="Argument">w</a> <a id="16423" class="Symbol">=</a> <a id="16425" href="plfa.Adequacy.html#16425" class="Bound">w</a><a id="16426" class="Symbol">}</a> <a id="16428" href="plfa.Adequacy.html#16428" class="Bound">d</a><a id="16429" class="Symbol">)</a> <a id="16431" href="plfa.Adequacy.html#16431" class="Bound">fvâ†¦w</a> <a id="16436" class="Symbol">=</a>
    <a id="16442" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16444" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="16449" class="Symbol">(</a><a id="16450" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="16452" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16411" class="Bound">N</a><a id="16453" class="Symbol">)</a> <a id="16455" href="plfa.Adequacy.html#16389" class="Bound">Î³&#39;</a> <a id="16458" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16460" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16462" href="plfa.CallByName.html#3258" class="InductiveConstructor">â‡“-lam</a> <a id="16468" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16470" href="plfa.Adequacy.html#16486" class="Function">E</a> <a id="16472" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16474" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="16480" class="Keyword">where</a> <a id="16486" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16486" class="Function">E</a> <a id="16488" class="Symbol">:</a> <a id="16490" class="Symbol">{</a><a id="16491" href="plfa.Adequacy.html#16491" class="Bound">c</a> <a id="16493" class="Symbol">:</a> <a id="16495" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a><a id="16499" class="Symbol">}</a> <a id="16501" class="Symbol">â†’</a> <a id="16503" href="plfa.Adequacy.html#7013" class="Function">ğ”¼</a> <a id="16505" href="plfa.Adequacy.html#16418" class="Bound">v</a> <a id="16507" href="plfa.Adequacy.html#16491" class="Bound">c</a> <a id="16509" class="Symbol">â†’</a> <a id="16511" href="plfa.Adequacy.html#3992" class="Function">AboveFun</a> <a id="16520" href="plfa.Adequacy.html#16425" class="Bound">w</a>
            <a id="16534" class="Symbol">â†’</a> <a id="16536" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="16539" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16539" class="Bound">c&#39;</a> <a id="16542" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="16544" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2484" class="Datatype">Clos</a> <a id="16549" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="16551" class="Symbol">(</a><a id="16552" href="plfa.Adequacy.html#16389" class="Bound">Î³&#39;</a> <a id="16555" href="plfa.CallByName.html#2689" class="Function Operator">,&#39;</a> <a id="16558" href="plfa.Adequacy.html#16491" class="Bound">c</a><a id="16559" class="Symbol">)</a> <a id="16561" href="plfa.CallByName.html#3038" class="Datatype Operator">âŠ¢</a> <a id="16563" href="plfa.Adequacy.html#16411" class="Bound">N</a> <a id="16565" href="plfa.CallByName.html#3038" class="Datatype Operator">â‡“</a> <a id="16567" href="plfa.Adequacy.html#16539" class="Bound">c&#39;</a>  <a id="16571" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">Ã—</a>  <a id="16574" href="plfa.Adequacy.html#6990" class="Function">ğ•</a> <a id="16576" href="plfa.Adequacy.html#16425" class="Bound">w</a> <a id="16578" href="plfa.Adequacy.html#16539" class="Bound">c&#39;</a>
          <a id="16591" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16486" class="Function">E</a> <a id="16593" class="Symbol">{</a><a id="16594" href="plfa.Adequacy.html#16594" class="Bound">c</a><a id="16595" class="Symbol">}</a> <a id="16597" href="plfa.Adequacy.html#16597" class="Bound">ğ”¼vc</a> <a id="16601" href="plfa.Adequacy.html#16601" class="Bound">fw</a> <a id="16604" class="Symbol">=</a> <a id="16606" href="plfa.Adequacy.html#15747" class="Function">â†“â†’ğ”¼</a> <a id="16610" class="Symbol">(Î»</a> <a id="16613" class="Symbol">{</a><a id="16614" href="plfa.Adequacy.html#16614" class="Bound">x</a><a id="16615" class="Symbol">}</a> <a id="16617" class="Symbol">â†’</a> <a id="16619" href="plfa.Adequacy.html#8812" class="Function">ğ”¾-ext</a><a id="16624" class="Symbol">{</a><a id="16625" href="plfa.Adequacy.html#16381" class="Bound">Î“</a><a id="16626" class="Symbol">}{</a><a id="16628" href="plfa.Adequacy.html#16385" class="Bound">Î³</a><a id="16629" class="Symbol">}{</a><a id="16631" href="plfa.Adequacy.html#16389" class="Bound">Î³&#39;</a><a id="16633" class="Symbol">}</a> <a id="16635" href="plfa.Adequacy.html#16393" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16640" href="plfa.Adequacy.html#16597" class="Bound">ğ”¼vc</a> <a id="16644" class="Symbol">{</a><a id="16645" href="plfa.Adequacy.html#16614" class="Bound">x</a><a id="16646" class="Symbol">})</a> <a id="16649" href="plfa.Adequacy.html#16428" class="Bound">d</a> <a id="16651" href="plfa.Adequacy.html#16601" class="Bound">fw</a>
<a id="16654" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16658" href="plfa.Adequacy.html#16658" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16663" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9678" class="InductiveConstructor">âŠ¥-intro</a> <a id="16671" href="plfa.Adequacy.html#16671" class="Bound">fâŠ¥</a> <a id="16674" class="Symbol">=</a> <a id="16676" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a> <a id="16683" class="Symbol">(</a><a id="16684" href="plfa.Adequacy.html#4395" class="Function">AboveFunâŠ¥</a> <a id="16694" href="plfa.Adequacy.html#16671" class="Bound">fâŠ¥</a><a id="16696" class="Symbol">)</a>
<a id="16698" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16702" href="plfa.Adequacy.html#16702" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16707" class="Symbol">(</a><a id="16708" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9753" class="InductiveConstructor">âŠ”-intro</a><a id="16715" class="Symbol">{</a><a id="16716" class="Argument">v</a> <a id="16718" class="Symbol">=</a> <a id="16720" href="plfa.Adequacy.html#16720" class="Bound">vâ‚</a><a id="16722" class="Symbol">}{</a><a id="16724" class="Argument">w</a> <a id="16726" class="Symbol">=</a> <a id="16728" href="plfa.Adequacy.html#16728" class="Bound">vâ‚‚</a><a id="16730" class="Symbol">}</a> <a id="16732" href="plfa.Adequacy.html#16732" class="Bound">dâ‚</a> <a id="16735" href="plfa.Adequacy.html#16735" class="Bound">dâ‚‚</a><a id="16737" class="Symbol">)</a> <a id="16739" href="plfa.Adequacy.html#16739" class="Bound">fv12</a>
    <a id="16748" class="Keyword">with</a> <a id="16753" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6145" class="Function">AboveFun?</a> <a id="16763" href="plfa.Adequacy.html#16720" class="Bound">vâ‚</a> <a id="16766" class="Symbol">|</a> <a id="16768" href="plfa.Adequacy.html#6145" class="Function">AboveFun?</a> <a id="16778" href="plfa.Adequacy.html#16728" class="Bound">vâ‚‚</a>
<a id="16781" class="Symbol">...</a> <a id="16785" class="Symbol">|</a> <a id="16787" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="16791" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16791" class="Bound">fv1</a> <a id="16795" class="Symbol">|</a> <a id="16797" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="16801" href="plfa.Adequacy.html#16801" class="Bound">fv2</a>
    <a id="16809" class="Keyword">with</a> <a id="16814" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16818" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16823" class="Bound">dâ‚</a> <a id="16826" href="plfa.Adequacy.html#16791" class="Bound">fv1</a> <a id="16830" class="Symbol">|</a> <a id="16832" href="plfa.Adequacy.html#15747" class="Function">â†“â†’ğ”¼</a> <a id="16836" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16841" class="Bound">dâ‚‚</a> <a id="16844" href="plfa.Adequacy.html#16801" class="Bound">fv2</a>
<a id="16848" class="Symbol">...</a> <a id="16852" class="Symbol">|</a> <a id="16854" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16856" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16856" class="Bound">câ‚</a> <a id="16859" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16861" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16863" href="plfa.Adequacy.html#16863" class="Bound">Mâ‡“câ‚</a> <a id="16868" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16870" href="plfa.Adequacy.html#16870" class="Bound">ğ•vâ‚</a> <a id="16874" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16876" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16878" class="Symbol">|</a> <a id="16880" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16882" href="plfa.Adequacy.html#16882" class="Bound">câ‚‚</a> <a id="16885" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16887" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16889" href="plfa.Adequacy.html#16889" class="Bound">Mâ‡“câ‚‚</a> <a id="16894" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16896" href="plfa.Adequacy.html#16896" class="Bound">ğ•vâ‚‚</a> <a id="16900" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16902" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="16908" class="Keyword">rewrite</a> <a id="16916" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4621" class="Function">â‡“-determ</a> <a id="16925" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16889" class="Bound">Mâ‡“câ‚‚</a> <a id="16930" href="plfa.Adequacy.html#16863" class="Bound">Mâ‡“câ‚</a> <a id="16935" class="Symbol">=</a>
    <a id="16941" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16943" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16856" class="Bound">câ‚</a> <a id="16946" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16948" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="16950" href="plfa.Adequacy.html#16863" class="Bound">Mâ‡“câ‚</a> <a id="16955" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16957" href="plfa.Adequacy.html#9607" class="Function">ğ•âŠ”-intro</a> <a id="16966" href="plfa.Adequacy.html#16870" class="Bound">ğ•vâ‚</a> <a id="16970" href="plfa.Adequacy.html#16896" class="Bound">ğ•vâ‚‚</a> <a id="16974" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="16976" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="16978" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="16982" href="plfa.Adequacy.html#16982" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="16987" class="Symbol">(</a><a id="16988" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9753" class="InductiveConstructor">âŠ”-intro</a><a id="16995" class="Symbol">{</a><a id="16996" class="Argument">v</a> <a id="16998" class="Symbol">=</a> <a id="17000" href="plfa.Adequacy.html#17000" class="Bound">vâ‚</a><a id="17002" class="Symbol">}{</a><a id="17004" class="Argument">w</a> <a id="17006" class="Symbol">=</a> <a id="17008" href="plfa.Adequacy.html#17008" class="Bound">vâ‚‚</a><a id="17010" class="Symbol">}</a> <a id="17012" href="plfa.Adequacy.html#17012" class="Bound">dâ‚</a> <a id="17015" href="plfa.Adequacy.html#17015" class="Bound">dâ‚‚</a><a id="17017" class="Symbol">)</a> <a id="17019" href="plfa.Adequacy.html#17019" class="Bound">fv12</a> <a id="17024" class="Symbol">|</a> <a id="17026" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="17030" href="plfa.Adequacy.html#17030" class="Bound">fv1</a> <a id="17034" class="Symbol">|</a> <a id="17036" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17039" href="plfa.Adequacy.html#17039" class="Bound">nfv2</a>
    <a id="17048" class="Keyword">with</a> <a id="17053" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="17057" href="plfa.Adequacy.html#16982" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="17062" href="plfa.Adequacy.html#17012" class="Bound">dâ‚</a> <a id="17065" href="plfa.Adequacy.html#17030" class="Bound">fv1</a>
<a id="17069" class="Symbol">...</a> <a id="17073" class="Symbol">|</a> <a id="17075" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17077" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="17082" class="Symbol">{</a><a id="17083" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17083" class="Bound">Î“&#39;</a><a id="17085" class="Symbol">}</a> <a id="17087" href="plfa.Adequacy.html#17087" class="Bound">M&#39;</a> <a id="17090" href="plfa.Adequacy.html#17090" class="Bound">Î³â‚</a> <a id="17093" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17095" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17097" href="plfa.Adequacy.html#17097" class="Bound">Mâ‡“câ‚</a> <a id="17102" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17104" href="plfa.Adequacy.html#17104" class="Bound">ğ•vâ‚</a> <a id="17108" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17110" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="17116" class="Keyword">with</a> <a id="17121" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="17128" href="plfa.Adequacy.html#17104" class="Bound">ğ•vâ‚</a>
<a id="17132" class="Symbol">...</a> <a id="17136" class="Symbol">|</a> <a id="17138" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="17141" class="Symbol">{</a><a id="17142" class="Argument">N</a> <a id="17144" class="Symbol">=</a> <a id="17146" href="plfa.Adequacy.html#17146" class="Bound">N</a><a id="17147" class="Symbol">}</a> <a id="17149" class="Symbol">=</a>
    <a id="17155" class="Keyword">let</a> <a id="17159" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17159" class="Bound">ğ•vâ‚‚</a> <a id="17163" class="Symbol">=</a> <a id="17165" href="plfa.Adequacy.html#10256" class="Function">not-AboveFun-ğ•</a><a id="17179" class="Symbol">{</a><a id="17180" class="Bound">vâ‚‚</a><a id="17182" class="Symbol">}{</a><a id="17184" class="Bound">Î“&#39;</a><a id="17186" class="Symbol">}{</a><a id="17188" class="Bound">Î³â‚</a><a id="17190" class="Symbol">}{</a><a id="17192" href="plfa.Adequacy.html#17146" class="Bound">N</a><a id="17193" class="Symbol">}</a> <a id="17195" class="Bound">nfv2</a> <a id="17200" class="Keyword">in</a>
    <a id="17207" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17209" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="17214" class="Symbol">(</a><a id="17215" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="17217" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17146" class="Bound">N</a><a id="17218" class="Symbol">)</a> <a id="17220" class="Bound">Î³â‚</a> <a id="17223" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17225" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17227" class="Bound">Mâ‡“câ‚</a> <a id="17232" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17234" href="plfa.Adequacy.html#9607" class="Function">ğ•âŠ”-intro</a> <a id="17243" class="Bound">ğ•vâ‚</a> <a id="17247" href="plfa.Adequacy.html#17159" class="Bound">ğ•vâ‚‚</a> <a id="17251" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17253" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="17255" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="17259" href="plfa.Adequacy.html#17259" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="17264" class="Symbol">(</a><a id="17265" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9753" class="InductiveConstructor">âŠ”-intro</a><a id="17272" class="Symbol">{</a><a id="17273" class="Argument">v</a> <a id="17275" class="Symbol">=</a> <a id="17277" href="plfa.Adequacy.html#17277" class="Bound">vâ‚</a><a id="17279" class="Symbol">}{</a><a id="17281" class="Argument">w</a> <a id="17283" class="Symbol">=</a> <a id="17285" href="plfa.Adequacy.html#17285" class="Bound">vâ‚‚</a><a id="17287" class="Symbol">}</a> <a id="17289" href="plfa.Adequacy.html#17289" class="Bound">dâ‚</a> <a id="17292" href="plfa.Adequacy.html#17292" class="Bound">dâ‚‚</a><a id="17294" class="Symbol">)</a> <a id="17296" href="plfa.Adequacy.html#17296" class="Bound">fv12</a> <a id="17301" class="Symbol">|</a> <a id="17303" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17306" href="plfa.Adequacy.html#17306" class="Bound">nfv1</a>  <a id="17312" class="Symbol">|</a> <a id="17314" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="17318" href="plfa.Adequacy.html#17318" class="Bound">fv2</a>
    <a id="17326" class="Keyword">with</a> <a id="17331" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="17335" href="plfa.Adequacy.html#17259" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="17340" href="plfa.Adequacy.html#17292" class="Bound">dâ‚‚</a> <a id="17343" href="plfa.Adequacy.html#17318" class="Bound">fv2</a>
<a id="17347" class="Symbol">...</a> <a id="17351" class="Symbol">|</a> <a id="17353" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17355" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="17360" class="Symbol">{</a><a id="17361" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17361" class="Bound">Î“&#39;</a><a id="17363" class="Symbol">}</a> <a id="17365" href="plfa.Adequacy.html#17365" class="Bound">M&#39;</a> <a id="17368" href="plfa.Adequacy.html#17368" class="Bound">Î³â‚</a> <a id="17371" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17373" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17375" href="plfa.Adequacy.html#17375" class="Bound">M&#39;â‡“câ‚‚</a> <a id="17381" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17383" href="plfa.Adequacy.html#17383" class="Bound">ğ•2c</a> <a id="17387" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17389" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="17395" class="Keyword">with</a> <a id="17400" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="17407" href="plfa.Adequacy.html#17383" class="Bound">ğ•2c</a>
<a id="17411" class="Symbol">...</a> <a id="17415" class="Symbol">|</a> <a id="17417" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="17420" class="Symbol">{</a><a id="17421" class="Argument">N</a> <a id="17423" class="Symbol">=</a> <a id="17425" href="plfa.Adequacy.html#17425" class="Bound">N</a><a id="17426" class="Symbol">}</a> <a id="17428" class="Symbol">=</a>
    <a id="17434" class="Keyword">let</a> <a id="17438" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17438" class="Bound">ğ•1c</a> <a id="17442" class="Symbol">=</a> <a id="17444" href="plfa.Adequacy.html#10256" class="Function">not-AboveFun-ğ•</a><a id="17458" class="Symbol">{</a><a id="17459" class="Bound">vâ‚</a><a id="17461" class="Symbol">}{</a><a id="17463" class="Bound">Î“&#39;</a><a id="17465" class="Symbol">}{</a><a id="17467" class="Bound">Î³â‚</a><a id="17469" class="Symbol">}{</a><a id="17471" href="plfa.Adequacy.html#17425" class="Bound">N</a><a id="17472" class="Symbol">}</a> <a id="17474" class="Bound">nfv1</a> <a id="17479" class="Keyword">in</a>
    <a id="17486" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17488" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="17493" class="Symbol">(</a><a id="17494" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="17496" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17425" class="Bound">N</a><a id="17497" class="Symbol">)</a> <a id="17499" class="Bound">Î³â‚</a> <a id="17502" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17504" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17506" class="Bound">M&#39;â‡“câ‚‚</a> <a id="17512" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17514" href="plfa.Adequacy.html#9607" class="Function">ğ•âŠ”-intro</a> <a id="17523" href="plfa.Adequacy.html#17438" class="Bound">ğ•1c</a> <a id="17527" class="Bound">ğ•2c</a> <a id="17531" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17533" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="17535" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="17539" href="plfa.Adequacy.html#17539" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="17544" class="Symbol">(</a><a id="17545" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9753" class="InductiveConstructor">âŠ”-intro</a> <a id="17553" href="plfa.Adequacy.html#17553" class="Bound">dâ‚</a> <a id="17556" href="plfa.Adequacy.html#17556" class="Bound">dâ‚‚</a><a id="17558" class="Symbol">)</a> <a id="17560" href="plfa.Adequacy.html#17560" class="Bound">fv12</a> <a id="17565" class="Symbol">|</a> <a id="17567" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17570" href="plfa.Adequacy.html#17570" class="Bound">nfv1</a>  <a id="17576" class="Symbol">|</a> <a id="17578" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17581" href="plfa.Adequacy.html#17581" class="Bound">nfv2</a>
    <a id="17590" class="Keyword">with</a> <a id="17595" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4695" class="Function">AboveFun-âŠ”</a> <a id="17606" href="plfa.Adequacy.html#17560" class="Bound">fv12</a>
<a id="17611" class="Symbol">...</a> <a id="17615" class="Symbol">|</a> <a id="17617" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">injâ‚</a> <a id="17622" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17622" class="Bound">fv1</a> <a id="17626" class="Symbol">=</a> <a id="17628" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a> <a id="17635" class="Symbol">(</a><a id="17636" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="17650" href="plfa.Adequacy.html#17622" class="Bound">fv1</a> <a id="17654" class="Bound">nfv1</a><a id="17658" class="Symbol">)</a>
<a id="17660" class="Symbol">...</a> <a id="17664" class="Symbol">|</a> <a id="17666" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">injâ‚‚</a> <a id="17671" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17671" class="Bound">fv2</a> <a id="17675" class="Symbol">=</a> <a id="17677" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">âŠ¥-elim</a> <a id="17684" class="Symbol">(</a><a id="17685" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="17699" href="plfa.Adequacy.html#17671" class="Bound">fv2</a> <a id="17703" class="Bound">nfv2</a><a id="17707" class="Symbol">)</a>
<a id="17709" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="17713" class="Symbol">{</a><a id="17714" href="plfa.Adequacy.html#17714" class="Bound">Î“</a><a id="17715" class="Symbol">}</a> <a id="17717" class="Symbol">{</a><a id="17718" href="plfa.Adequacy.html#17718" class="Bound">Î³</a><a id="17719" class="Symbol">}</a> <a id="17721" class="Symbol">{</a><a id="17722" href="plfa.Adequacy.html#17722" class="Bound">Î³&#39;</a><a id="17724" class="Symbol">}</a> <a id="17726" class="Symbol">{</a><a id="17727" href="plfa.Adequacy.html#17727" class="Bound">M</a><a id="17728" class="Symbol">}</a> <a id="17730" class="Symbol">{</a><a id="17731" href="plfa.Adequacy.html#17731" class="Bound">v&#39;</a><a id="17733" class="Symbol">}</a> <a id="17735" href="plfa.Adequacy.html#17735" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="17740" class="Symbol">(</a><a id="17741" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9884" class="InductiveConstructor">sub</a><a id="17744" class="Symbol">{</a><a id="17745" class="Argument">v</a> <a id="17747" class="Symbol">=</a> <a id="17749" href="plfa.Adequacy.html#17749" class="Bound">v</a><a id="17750" class="Symbol">}</a> <a id="17752" href="plfa.Adequacy.html#17752" class="Bound">d</a> <a id="17754" href="plfa.Adequacy.html#17754" class="Bound">v&#39;âŠ‘v</a><a id="17758" class="Symbol">)</a> <a id="17760" href="plfa.Adequacy.html#17760" class="Bound">fv&#39;</a>
    <a id="17768" class="Keyword">with</a> <a id="17773" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="17777" class="Symbol">{</a><a id="17778" href="plfa.Adequacy.html#17714" class="Bound">Î“</a><a id="17779" class="Symbol">}</a> <a id="17781" class="Symbol">{</a><a id="17782" href="plfa.Adequacy.html#17718" class="Bound">Î³</a><a id="17783" class="Symbol">}</a> <a id="17785" class="Symbol">{</a><a id="17786" href="plfa.Adequacy.html#17722" class="Bound">Î³&#39;</a><a id="17788" class="Symbol">}</a> <a id="17790" class="Symbol">{</a><a id="17791" href="plfa.Adequacy.html#17727" class="Bound">M</a><a id="17792" class="Symbol">}</a> <a id="17794" href="plfa.Adequacy.html#17735" class="Bound">ğ”¾Î³Î³&#39;</a> <a id="17799" href="plfa.Adequacy.html#17752" class="Bound">d</a> <a id="17801" class="Symbol">(</a><a id="17802" href="plfa.Adequacy.html#4161" class="Function">AboveFun-âŠ‘</a> <a id="17813" href="plfa.Adequacy.html#17760" class="Bound">fv&#39;</a> <a id="17817" href="plfa.Adequacy.html#17754" class="Bound">v&#39;âŠ‘v</a><a id="17821" class="Symbol">)</a>
<a id="17823" class="Symbol">...</a> <a id="17827" class="Symbol">|</a> <a id="17829" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17831" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17831" class="Bound">c</a> <a id="17833" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17835" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17837" href="plfa.Adequacy.html#17837" class="Bound">Mâ‡“c</a> <a id="17841" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17843" href="plfa.Adequacy.html#17843" class="Bound">ğ•v</a> <a id="17846" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17848" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17850" class="Symbol">=</a>
      <a id="17858" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17860" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17831" class="Bound">c</a> <a id="17862" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17864" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="17866" href="plfa.Adequacy.html#17837" class="Bound">Mâ‡“c</a> <a id="17870" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17872" href="plfa.Adequacy.html#10683" class="Function">sub-ğ•</a> <a id="17878" href="plfa.Adequacy.html#17843" class="Bound">ğ•v</a> <a id="17881" class="Bound">v&#39;âŠ‘v</a> <a id="17886" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="17888" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}
* Case `var`. Looking up `x` in `Î³'` yields some closure, `clos M' Î´`,
  and from `ğ”¾ Î³ Î³'` we have `ğ”¼ (Î³ x) (clos M' Î´)`. With the premise
  `AboveFun (Î³ x)`, we obtain a closure `c` such that `Î´ âŠ¢ M' â‡“ c`
  and `ğ• (Î³ x) c`. To conclude `Î³' âŠ¢ x â‡“ c` via `â‡“-var`, we
  need `Î³' x â‰¡ clos M' Î´`, which is obvious, but it requires some
  Agda shananigans via the `kth-x` lemma to get our hands on it.

* Case `â†¦-elim`. We have `Î³ âŠ¢ L Â· M â†“ v`.
  The induction hypothesis for `Î³ âŠ¢ L â†“ vâ‚ â†¦ v`
  gives us `Î³' âŠ¢ L â‡“ clos L' Î´` and `ğ• v (clos L' Î´)`.
  Of course, `L' â‰¡ Æ› N` for some `N`.
  By the induction hypothesis for `Î³ âŠ¢ M â†“ vâ‚`,
  we have `ğ”¼ vâ‚ (clos M Î³')`.
  Together with the premise `AboveFun v` and `ğ• v (clos L' Î´)`,
  we obtain a closure `c'` such that `Î´ âŠ¢ N â‡“ c'` and `ğ• v c'`.
  We conclude that `Î³' âŠ¢ L Â· M â‡“ c'` by rule `â‡“-app`.

* Case `â†¦-intro`. We have `Î³ âŠ¢ Æ› N â†“ v â†¦ w`.
  We immediately have `Î³' âŠ¢ Æ› M â‡“ clos (Æ› M) Î³'` by rule `â‡“-lam`.
  But we also need to prove `ğ• (v â†¦ w) (clos (Æ› N) Î³')`.
  Let `c` by an arbitrary closure such that `ğ”¼ v c`.
  Suppose `v'` is greater than a function value.
  We need to show that `Î³' , c âŠ¢ N â‡“ c'` and `ğ• v' c'` for some `c'`.
  We prove this by the induction hypothesis for `Î³ , v âŠ¢ N â†“ v'`
  but we must first show that `ğ”¾ (Î³ , v) (Î³' , c)`. We prove
  that by the lemma `ğ”¾-ext`, using facts `ğ”¾ Î³ Î³'` and `ğ”¼ v c`.

* Case `âŠ¥-intro`. We have the premise `AboveFun âŠ¥`, but that's impossible.

* Case `âŠ”-intro`. We have `Î³ âŠ¢ M â†“ (vâ‚ âŠ” vâ‚‚)` and `AboveFun (vâ‚ âŠ” vâ‚‚)`
  and need to show `Î³' âŠ¢ M â†“ c` and `ğ• (vâ‚ âŠ” vâ‚‚) c` for some `c`.
  Again, by `AboveFun-âŠ”`, at least one of `vâ‚` or `vâ‚‚` is greater than
  a function.

  * Suppose both `vâ‚` and `vâ‚‚` are greater than a function value.
    By the induction hypotheses for `Î³ âŠ¢ M â†“ vâ‚` and `Î³ âŠ¢ M â†“ vâ‚‚`
    we have `Î³' âŠ¢ M â‡“ câ‚`, `ğ• vâ‚ câ‚`, `Î³' âŠ¢ M â‡“ câ‚‚`, and `ğ• vâ‚‚ câ‚‚`
    for some `câ‚` and `câ‚‚`. Because `â‡“` is deterministic, we have `câ‚‚ â‰¡ câ‚`.
    Then by `ğ•âŠ”-intro` we conclude that `ğ• (vâ‚ âŠ” vâ‚‚) câ‚`.

  * Without loss of generality, suppose `vâ‚` is greater than a function
    value but `vâ‚‚` is not.  By the induction hypotheses for `Î³ âŠ¢ M â†“ vâ‚`,
    and using `ğ•â†’WHNF`, we have `Î³' âŠ¢ M â‡“ clos (Æ› N) Î³â‚`
    and `ğ• vâ‚ (clos (Æ› N) Î³â‚)`.
    Then because `vâ‚‚` is not greater than a function, we also have
    `ğ• vâ‚‚ (clos (Æ› N) Î³â‚)`. We conclude that `ğ• (vâ‚ âŠ” vâ‚‚) (clos (Æ› N) Î³â‚)`.

* Case `sub`. We have `Î³ âŠ¢ M â†“ v`, `v' âŠ‘ v`, and `AboveFun v'`.
  We need to show that `Î³' âŠ¢ M â‡“ c` and `ğ• v' c` for some `c`.
  We have `AboveFun v` by `AboveFun-âŠ‘`,
  so the induction hypothesis for `Î³ âŠ¢ M â†“ v` gives us a closure `c`
  such that `Î³' âŠ¢ M â‡“ c` and `ğ• v c`. We conclude that `ğ• v' c` by `sub-ğ•`.


## Proof of denotational adequacy

The adequacy property is a corollary of the main lemma.
We have `âˆ… âŠ¢ Æ› N â†“ âŠ¥ â†¦ âŠ¥`, so `â„° M â‰ƒ â„° (Æ› N)`
gives us `âˆ… âŠ¢ M â†“ âŠ¥ â†¦ âŠ¥`. Then the main lemma gives us
`âˆ… âŠ¢ M â‡“ clos (Æ› Nâ€²) Î³` for some `Nâ€²` and `Î³`.

{% raw %}<pre class="Agda"><a id="adequacy"></a><a id="20838" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20838" class="Function">adequacy</a> <a id="20847" class="Symbol">:</a> <a id="20849" class="Symbol">âˆ€{</a><a id="20851" href="plfa.Adequacy.html#20851" class="Bound">M</a> <a id="20853" class="Symbol">:</a> <a id="20855" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">âˆ…</a> <a id="20857" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="20859" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="20860" class="Symbol">}{</a><a id="20862" href="plfa.Adequacy.html#20862" class="Bound">N</a> <a id="20864" class="Symbol">:</a> <a id="20866" href="plfa.Untyped.html#3152" class="InductiveConstructor">âˆ…</a> <a id="20868" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="20870" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="20872" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="20874" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="20875" class="Symbol">}</a>  <a id="20878" class="Symbol">â†’</a>  <a id="20881" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#17453" class="Function">â„°</a> <a id="20883" href="plfa.Adequacy.html#20851" class="Bound">M</a> <a id="20885" href="plfa.Denotational.html#17635" class="Function Operator">â‰ƒ</a> <a id="20887" href="plfa.Denotational.html#17453" class="Function">â„°</a> <a id="20889" class="Symbol">(</a><a id="20890" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">Æ›</a> <a id="20892" href="plfa.Adequacy.html#20862" class="Bound">N</a><a id="20893" class="Symbol">)</a>
         <a id="20904" class="Symbol">â†’</a>  <a id="20907" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="20910" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20910" class="Bound">Î“</a> <a id="20912" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="20914" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="20922" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="20924" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="20927" href="plfa.Adequacy.html#20927" class="Bound">Nâ€²</a> <a id="20930" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="20932" class="Symbol">(</a><a id="20933" href="plfa.Adequacy.html#20910" class="Bound">Î“</a> <a id="20935" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="20937" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="20939" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="20941" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="20942" class="Symbol">)</a> <a id="20944" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="20946" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="20949" href="plfa.Adequacy.html#20949" class="Bound">Î³</a> <a id="20951" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="20953" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="20961" href="plfa.Adequacy.html#20910" class="Bound">Î“</a> <a id="20963" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
            <a id="20977" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2667" class="Function">âˆ…&#39;</a> <a id="20980" href="plfa.CallByName.html#3038" class="Datatype Operator">âŠ¢</a> <a id="20982" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20851" class="Bound">M</a> <a id="20984" href="plfa.CallByName.html#3038" class="Datatype Operator">â‡“</a> <a id="20986" href="plfa.CallByName.html#2503" class="InductiveConstructor">clos</a> <a id="20991" class="Symbol">(</a><a id="20992" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="20994" href="plfa.Adequacy.html#20927" class="Bound">Nâ€²</a><a id="20996" class="Symbol">)</a> <a id="20998" href="plfa.Adequacy.html#20949" class="Bound">Î³</a>
<a id="21000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20838" class="Function">adequacy</a><a id="21008" class="Symbol">{</a><a id="21009" href="plfa.Adequacy.html#21009" class="Bound">M</a><a id="21010" class="Symbol">}{</a><a id="21012" href="plfa.Adequacy.html#21012" class="Bound">N</a><a id="21013" class="Symbol">}</a> <a id="21015" href="plfa.Adequacy.html#21015" class="Bound">eq</a>
    <a id="21022" class="Keyword">with</a> <a id="21027" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15747" class="Function">â†“â†’ğ”¼</a> <a id="21031" href="plfa.Adequacy.html#8788" class="Function">ğ”¾-âˆ…</a> <a id="21035" class="Symbol">((</a><a id="21037" href="Agda.Builtin.Sigma.html#237" class="Field">projâ‚‚</a> <a id="21043" class="Symbol">(</a><a id="21044" href="plfa.Adequacy.html#21015" class="Bound">eq</a> <a id="21047" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7233" class="Function">`âˆ…</a> <a id="21050" class="Symbol">(</a><a id="21051" href="plfa.Denotational.html#3991" class="InductiveConstructor">âŠ¥</a> <a id="21053" href="plfa.Denotational.html#4003" class="InductiveConstructor Operator">â†¦</a> <a id="21055" href="plfa.Denotational.html#3991" class="InductiveConstructor">âŠ¥</a><a id="21056" class="Symbol">)))</a> <a id="21060" class="Symbol">(</a><a id="21061" href="plfa.Denotational.html#9554" class="InductiveConstructor">â†¦-intro</a> <a id="21069" href="plfa.Denotational.html#9678" class="InductiveConstructor">âŠ¥-intro</a><a id="21076" class="Symbol">))</a>
                 <a id="21096" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21098" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3991" class="InductiveConstructor">âŠ¥</a> <a id="21100" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21102" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21104" href="plfa.Denotational.html#3991" class="InductiveConstructor">âŠ¥</a> <a id="21106" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21108" href="plfa.Denotational.html#5480" class="Function">ReflâŠ‘</a> <a id="21114" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="21116" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
<a id="21118" class="Symbol">...</a> <a id="21122" class="Symbol">|</a> <a id="21124" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21126" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2503" class="InductiveConstructor">clos</a> <a id="21131" class="Symbol">{</a><a id="21132" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21132" class="Bound">Î“</a><a id="21133" class="Symbol">}</a> <a id="21135" href="plfa.Adequacy.html#21135" class="Bound">Mâ€²</a> <a id="21138" href="plfa.Adequacy.html#21138" class="Bound">Î³</a> <a id="21140" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21142" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21144" href="plfa.Adequacy.html#21144" class="Bound">Mâ‡“c</a> <a id="21148" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21150" href="plfa.Adequacy.html#21150" class="Bound">Vc</a> <a id="21153" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="21155" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
    <a id="21161" class="Keyword">with</a> <a id="21166" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9294" class="Function">ğ•â†’WHNF</a> <a id="21173" href="plfa.Adequacy.html#21150" class="Bound">Vc</a>
<a id="21176" class="Symbol">...</a> <a id="21180" class="Symbol">|</a> <a id="21182" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9187" class="InductiveConstructor Operator">Æ›_</a> <a id="21185" class="Symbol">{</a><a id="21186" class="Argument">N</a> <a id="21188" class="Symbol">=</a> <a id="21190" href="plfa.Adequacy.html#21190" class="Bound">Nâ€²</a><a id="21192" class="Symbol">}</a> <a id="21194" class="Symbol">=</a>
    <a id="21200" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21202" class="Bound">Î“</a> <a id="21204" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21206" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21208" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21190" class="Bound">Nâ€²</a> <a id="21211" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21213" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="21215" class="Bound">Î³</a> <a id="21217" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21219" class="Bound">Mâ‡“c</a> <a id="21223" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>  <a id="21226" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a> <a id="21228" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}

## Call-by-name is equivalent to beta reduction

As promised, we return to the question of whether call-by-name
evaluation is equivalent to beta reduction. In the chapter CallByName
we established the forward direction: that if call-by-name produces a
result, then the program beta reduces to a lambda abstraction.  We now
prove the backward direction of the if-and-only-if, leveraging our
results about the denotational semantics.

{% raw %}<pre class="Agda"><a id="reduceâ†’cbn"></a><a id="21673" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21673" class="Function">reduceâ†’cbn</a> <a id="21684" class="Symbol">:</a> <a id="21686" class="Symbol">âˆ€</a> <a id="21688" class="Symbol">{</a><a id="21689" href="plfa.Adequacy.html#21689" class="Bound">M</a> <a id="21691" class="Symbol">:</a> <a id="21693" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">âˆ…</a> <a id="21695" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="21697" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="21698" class="Symbol">}</a> <a id="21700" class="Symbol">{</a><a id="21701" href="plfa.Adequacy.html#21701" class="Bound">N</a> <a id="21703" class="Symbol">:</a> <a id="21705" href="plfa.Untyped.html#3152" class="InductiveConstructor">âˆ…</a> <a id="21707" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="21709" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="21711" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="21713" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="21714" class="Symbol">}</a>
           <a id="21727" class="Symbol">â†’</a> <a id="21729" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21689" class="Bound">M</a> <a id="21731" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#11203" class="Datatype Operator">â€”â† </a> <a id="21734" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">Æ›</a> <a id="21736" href="plfa.Adequacy.html#21701" class="Bound">N</a>
           <a id="21749" class="Symbol">â†’</a> <a id="21751" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="21754" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21754" class="Bound">Î”</a> <a id="21756" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="21758" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="21766" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="21768" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="21771" href="plfa.Adequacy.html#21771" class="Bound">Nâ€²</a> <a id="21774" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="21776" href="plfa.Adequacy.html#21754" class="Bound">Î”</a> <a id="21778" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="21780" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="21782" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="21784" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="21786" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="21788" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="21791" href="plfa.Adequacy.html#21791" class="Bound">Î´</a> <a id="21793" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="21795" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="21803" href="plfa.Adequacy.html#21754" class="Bound">Î”</a> <a id="21805" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
             <a id="21820" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2667" class="Function">âˆ…&#39;</a> <a id="21823" href="plfa.CallByName.html#3038" class="Datatype Operator">âŠ¢</a> <a id="21825" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21689" class="Bound">M</a> <a id="21827" href="plfa.CallByName.html#3038" class="Datatype Operator">â‡“</a> <a id="21829" href="plfa.CallByName.html#2503" class="InductiveConstructor">clos</a> <a id="21834" class="Symbol">(</a><a id="21835" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="21837" href="plfa.Adequacy.html#21771" class="Bound">Nâ€²</a><a id="21839" class="Symbol">)</a> <a id="21841" href="plfa.Adequacy.html#21791" class="Bound">Î´</a>
<a id="21843" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21673" class="Function">reduceâ†’cbn</a> <a id="21854" href="plfa.Adequacy.html#21854" class="Bound">Mâ€”â† Æ›N</a> <a id="21860" class="Symbol">=</a> <a id="21862" href="plfa.Adequacy.html#20838" class="Function">adequacy</a> <a id="21871" class="Symbol">(</a><a id="21872" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#23397" class="Function">soundness</a> <a id="21882" href="plfa.Adequacy.html#21854" class="Bound">Mâ€”â† Æ›N</a><a id="21887" class="Symbol">)</a>
</pre>{% endraw %}
Suppose `M â€”â†  Æ› N`. Soundness of the denotational semantics gives us
`â„° M â‰ƒ â„° (Æ› N)`. Then by adequacy we conclude that
`âˆ…' âŠ¢ M â‡“ clos (Æ› Nâ€²) Î´` for some `Nâ€²` and `Î´`.

Putting the two directions of the if-and-only-if together, we
establish that call-by-name evaluation is equivalent to beta reduction
in the following sense.

{% raw %}<pre class="Agda"><a id="cbnâ†”reduce"></a><a id="22225" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22225" class="Function">cbnâ†”reduce</a> <a id="22236" class="Symbol">:</a> <a id="22238" class="Symbol">âˆ€</a> <a id="22240" class="Symbol">{</a><a id="22241" href="plfa.Adequacy.html#22241" class="Bound">M</a> <a id="22243" class="Symbol">:</a> <a id="22245" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">âˆ…</a> <a id="22247" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="22249" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a><a id="22250" class="Symbol">}</a>
           <a id="22263" class="Symbol">â†’</a> <a id="22265" class="Symbol">(</a><a id="22266" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="22269" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22269" class="Bound">N</a> <a id="22271" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="22273" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">âˆ…</a> <a id="22275" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="22277" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="22279" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="22281" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="22283" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="22285" class="Symbol">(</a><a id="22286" href="plfa.Adequacy.html#22241" class="Bound">M</a> <a id="22288" href="plfa.Untyped.html#11203" class="Datatype Operator">â€”â† </a> <a id="22291" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">Æ›</a> <a id="22293" href="plfa.Adequacy.html#22269" class="Bound">N</a><a id="22294" class="Symbol">))</a>
             <a id="22310" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#16974" class="Function Operator">iff</a>
             <a id="22327" class="Symbol">(</a><a id="22328" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="22331" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22331" class="Bound">Î”</a> <a id="22333" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="22335" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="22343" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="22345" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="22348" href="plfa.Adequacy.html#22348" class="Bound">Nâ€²</a> <a id="22351" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="22353" href="plfa.Adequacy.html#22331" class="Bound">Î”</a> <a id="22355" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="22357" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="22359" href="plfa.Untyped.html#4252" class="Datatype Operator">âŠ¢</a> <a id="22361" href="plfa.Untyped.html#2876" class="InductiveConstructor">â˜…</a> <a id="22363" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="22365" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Î£[</a> <a id="22368" href="plfa.Adequacy.html#22368" class="Bound">Î´</a> <a id="22370" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">âˆˆ</a> <a id="22372" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2454" class="Function">ClosEnv</a> <a id="22380" href="plfa.Adequacy.html#22331" class="Bound">Î”</a> <a id="22382" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
               <a id="22399" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2667" class="Function">âˆ…&#39;</a> <a id="22402" href="plfa.CallByName.html#3038" class="Datatype Operator">âŠ¢</a> <a id="22404" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22241" class="Bound">M</a> <a id="22406" href="plfa.CallByName.html#3038" class="Datatype Operator">â‡“</a> <a id="22408" href="plfa.CallByName.html#2503" class="InductiveConstructor">clos</a> <a id="22413" class="Symbol">(</a><a id="22414" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">Æ›</a> <a id="22416" href="plfa.Adequacy.html#22348" class="Bound">Nâ€²</a><a id="22418" class="Symbol">)</a> <a id="22420" href="plfa.Adequacy.html#22368" class="Bound">Î´</a><a id="22421" class="Symbol">)</a>
<a id="22423" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22225" class="Function">cbnâ†”reduce</a> <a id="22434" class="Symbol">{</a><a id="22435" href="plfa.Adequacy.html#22435" class="Bound">M</a><a id="22436" class="Symbol">}</a> <a id="22438" class="Symbol">=</a> <a id="22440" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ¨</a> <a id="22442" class="Symbol">(Î»</a> <a id="22445" href="plfa.Adequacy.html#22445" class="Bound">x</a> <a id="22447" class="Symbol">â†’</a> <a id="22449" href="plfa.Adequacy.html#21673" class="Function">reduceâ†’cbn</a> <a id="22460" class="Symbol">(</a><a id="22461" href="Agda.Builtin.Sigma.html#237" class="Field">projâ‚‚</a> <a id="22467" href="plfa.Adequacy.html#22445" class="Bound">x</a><a id="22468" class="Symbol">))</a> <a id="22471" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a>
                   <a id="22492" class="Symbol">(Î»</a> <a id="22495" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22495" class="Bound">x</a> <a id="22497" class="Symbol">â†’</a> <a id="22499" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#12248" class="Function">cbnâ†’reduce</a> <a id="22510" class="Symbol">(</a><a id="22511" href="Agda.Builtin.Sigma.html#237" class="Field">projâ‚‚</a> <a id="22517" class="Symbol">(</a><a id="22518" href="Agda.Builtin.Sigma.html#237" class="Field">projâ‚‚</a> <a id="22524" class="Symbol">(</a><a id="22525" href="Agda.Builtin.Sigma.html#237" class="Field">projâ‚‚</a> <a id="22531" href="plfa.Adequacy.html#22495" class="Bound">x</a><a id="22532" class="Symbol">))))</a> <a id="22537" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">âŸ©</a>
</pre>{% endraw %}

## Unicode

This chapter uses the following unicode:

    ğ”¼  U+1D53C  MATHEMATICAL DOUBLE-STRUCK CAPITAL E (\bE)
    ğ”¾  U+1D53E  MATHEMATICAL DOUBLE-STRUCK CAPITAL G (\bG)
    ğ•  U+1D53E  MATHEMATICAL DOUBLE-STRUCK CAPITAL V (\bV)
